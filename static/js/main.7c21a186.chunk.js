(this.webpackJsonpplanse=this.webpackJsonpplanse||[]).push([[0],{68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),s=a.n(c),i=a(2),o=a(9),l=a(10),d=a(25),j=a.n(d),u=a(30),b=a(98),O=a(71),m=a(97),h=a(72),x=a(73),f=a(0),p=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),p=d[0],v=d[1],S=Object(n.useState)(!1),N=Object(i.a)(S,2),E=N[0],g=N[1],C=Object(n.useState)(""),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(!1),D=Object(i.a)(_,2),A=D[0],L=D[1],P=Object(n.useState)(!0),R=Object(i.a)(P,2),M=R[0],H=R[1],Y=Object(l.g)().state,F=function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),y(""),L(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r,password:p})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){g(!0),y(""),e.setUser(t),H(!1)})).catch((function(e){y(e.toString()),L(!0),H(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(E)return Object(f.jsx)(l.a,{to:"/"});var k=Object(f.jsxs)(b.a,{onClose:function(){return L(!1)},show:A,delay:5e3,autohide:!0,children:[Object(f.jsxs)(b.a.Header,{children:[Object(f.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(f.jsx)("strong",{className:"me-auto",children:"Invalid Login"})]}),Object(f.jsx)(b.a.Body,{children:T})]});"Error: Error 401: Unauthorized"!==T&&"Error: Error 401: "!==T||(k=Object(f.jsxs)(b.a,{onClose:function(){return L(!1)},show:A,delay:5e3,autohide:!0,children:[Object(f.jsxs)(b.a.Header,{children:[Object(f.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(f.jsx)("strong",{className:"me-auto",children:"Invalid Login"})]}),Object(f.jsx)(b.a.Body,{children:"Email or password incorrect."})]}));var W=Object(f.jsx)("div",{});return void 0===Y||T||"false"!==Y.justRegistered&&(W=Object(f.jsxs)(b.a,{onClose:function(){return H(!1)},show:M,delay:5e3,autohide:!0,children:[Object(f.jsxs)(b.a.Header,{children:[Object(f.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(f.jsx)("strong",{className:"me-auto",children:"Account Registered"})]}),Object(f.jsx)(b.a.Body,{children:"Now you can login with your email and password."})]})),Object(f.jsxs)("div",{children:[Object(f.jsxs)(O.a,{position:"bottom-end",className:"p-3",children:[T?k:"",W]}),Object(f.jsxs)(m.a,{className:"formCard",onSubmit:F,children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Login to PLANSE"}),Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)(o.b,{to:"/register",children:"Register instead"})}),Object(f.jsxs)(m.a.Floating,{controlid:"formEmail",children:[Object(f.jsx)(m.a.Control,{type:"email",className:"top",placeholder:"name@example.com",onChange:function(e){return c(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Email"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formPassword",children:[Object(f.jsx)(m.a.Control,{type:"password",className:"bottom",placeholder:"password",onChange:function(e){return v(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Password"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100",children:["Log in ",Object(f.jsx)(x.a,{})]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})]})},v=a(74),S=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(i.a)(c,2),d=s[0],x=s[1],p=Object(n.useState)(""),S=Object(i.a)(p,2),N=S[0],E=S[1],g=Object(n.useState)(!1),C=Object(i.a)(g,2),w=C[0],T=C[1],y=Object(n.useState)(""),_=Object(i.a)(y,2),D=_[0],A=_[1],L=Object(n.useState)(!1),P=Object(i.a)(L,2),R=P[0],M=P[1],H=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),A(""),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:d,password:N})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){T(!0),A(""),M(!1)})).catch((function(e){A(e.toString()),M(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(w)return Object(f.jsx)(l.a,{to:{pathname:"/login",state:{justRegistered:"true"}}});var Y=Object(f.jsxs)(b.a,{onClose:function(){return M(!1)},show:R,delay:5e3,autohide:!0,children:[Object(f.jsxs)(b.a.Header,{children:[Object(f.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(f.jsx)("strong",{className:"me-auto",children:"Register Error"})]}),Object(f.jsx)(b.a.Body,{children:D})]});return"Error: Error 409: Conflict"!==D&&"Error: Error 409: "!==D||(Y=Object(f.jsxs)(b.a,{onClose:function(){return M(!1)},show:R,delay:5e3,autohide:!0,children:[Object(f.jsxs)(b.a.Header,{children:[Object(f.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(f.jsx)("strong",{className:"me-auto",children:"Register Error"})]}),Object(f.jsx)(b.a.Body,{children:"This email is already registered."})]})),Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{position:"bottom-end",className:"p-3",children:D?Y:""}),Object(f.jsxs)(m.a,{className:"formCard register",onSubmit:H,children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Register on PLANSE"}),Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)(o.b,{to:"/login",children:"Login instead"})}),Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Ed Baldwin",onChange:function(e){return r(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Name"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEmail",children:[Object(f.jsx)(m.a.Control,{type:"email",className:"middle",placeholder:"name@example.com",onChange:function(e){return x(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Email address"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formPassword",children:[Object(f.jsx)(m.a.Control,{type:"password",className:"bottom",placeholder:"password",onChange:function(e){return E(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Password"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100",children:["Register ",Object(f.jsx)(v.a,{})]}),Object(f.jsxs)("p",{className:"mt-3 mb-3 text-muted text-center",children:["You will be redirected to the login page.",Object(f.jsx)("br",{}),"Email verification doesn't needed.",Object(f.jsx)("br",{}),"We'll never share your email with anyone else"]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})]})},N=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});case 3:c(!0),e.setUser([]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r?Object(f.jsx)(l.a,{to:"/"}):Object(f.jsxs)(m.a,{className:"formCard",onSubmit:s,children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsxs)("h1",{className:"h3 mb-3 fw-normal text-center",children:[e.user.name,", do you really want to log out?"]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100",children:["Log out ",Object(f.jsx)(v.a,{})]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})},E=a(52),g=a(79),C=a(75),w=a(76),T=a(77),y=a(78),_=function(e){var t=Object(f.jsx)("span",{});return e.user.main_calendar===e.calendar.id&&(t=Object(f.jsx)("span",{className:"text-secondary",title:"This is your main calendar",children:Object(f.jsx)(C.a,{})})),Object(f.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(f.jsx)("p",{className:"mt-0 mb-0 flex-fill",children:Object(f.jsxs)("span",{className:"calendar-color-"+e.calendar.color,title:"Show or hide this calendar",children:[Object(f.jsx)(o.b,{to:"#",className:"color-inherit",onClick:function(){return function(t){var a=1===e.calendar.visible?0:1;fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/edit/"+t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({visible:a})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.fetchCalendars()})).catch((function(t){alert(t),e.fetchCalendars()}))}(e.calendar.id)},children:1===e.calendar.visible?Object(f.jsx)(w.a,{}):Object(f.jsx)(T.a,{})})," ",e.calendar.name]})}),Object(f.jsxs)("p",{className:"mt-0 mb-0",children:[Object(f.jsxs)("span",{className:"pr-3",children:[t," "]}),Object(f.jsx)("span",{children:Object(f.jsx)(o.b,{to:"/calendar/edit/"+e.calendar.id,className:"text-decoration-none text-secondary",title:"Edit this calendar",children:Object(f.jsx)(y.a,{})})})]})]})},D=function(e){if(!1===e.userLoaded)return Object(f.jsx)("div",{});if(!0!==e.calendarsLoaded)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var t=e.calendars.map((function(t){return Object(f.jsx)(_,{calendar:t,user:e.user,fetchCalendars:e.fetchCalendars},t.id)}));return Object(f.jsx)("div",{children:t})},A=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)(m.a,{className:"formCard",children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Welcome to PLANSE"}),Object(f.jsx)("p",{className:"text-center",children:"Online calendar application."}),Object(f.jsx)(o.b,{to:"/login",className:"w-100 btn btn-lg btn-primary",children:"Log in"}),Object(f.jsx)(o.b,{to:"/register",className:"w-100 btn btn-lg btn-outline-primary mt-3",children:"Register"}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})})},L=a(80),P=a(81),R=a(82),M=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(f.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"Show all day events"}),Object(f.jsx)(m.a,{className:"mt-0 mb-0",children:Object(f.jsx)(m.a.Check,{type:"switch",id:"showAllDayEvents","aria-label":"Show all day events",defaultChecked:e.showAllDayEvents,onChange:function(){return e.setShowAllDayEvents(!e.showAllDayEvents),void e.updateEvents()}})})]}),Object(f.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(f.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"Show time-specific events"}),Object(f.jsx)(m.a,{className:"mt-0 mb-0",children:Object(f.jsx)(m.a.Check,{type:"switch",id:"showTimeSpecificEvents","aria-label":"Show time-specific events",defaultChecked:e.showTimeSpecificEvents,onChange:function(){return e.setShowTimeSpecificEvents(!e.showTimeSpecificEvents),void e.updateEvents()}})})]})]})},H=function(e){var t=Object(n.useState)(!1);return Object(i.a)(t,1)[0]?Object(f.jsx)(l.a,{to:"/login"}):!1===e.userLoaded?Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===e.user.length?Object(f.jsx)(A,{}):Object(f.jsxs)("div",{className:"left-bar",children:[Object(f.jsxs)("h5",{className:"calendar-entry",children:[Object(f.jsx)(L.a,{})," PLANSE Calendars"]}),Object(f.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(f.jsx)("h6",{className:"text-muted flex-fill",children:"Your calendars"}),Object(f.jsx)("h6",{children:Object(f.jsx)(o.b,{to:"calendar/create",className:"text-secondary",title:"Create calendar",children:Object(f.jsx)(P.a,{})})})]}),Object(f.jsx)(D,{user:e.user,userLoaded:e.userLoaded,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,fetchCalendars:e.fetchCalendars}),Object(f.jsx)("div",{className:"d-flex calendar-entry mt-5",children:Object(f.jsx)("h6",{className:"text-muted flex-fill",children:"Events"})}),Object(f.jsx)(M,{showAllDayEvents:e.showAllDayEvents,setShowAllDayEvents:e.setShowAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,setShowTimeSpecificEvents:e.setShowTimeSpecificEvents,updateEvents:e.updateEvents}),Object(f.jsx)("p",{className:"mt-3",children:Object(f.jsxs)(o.b,{to:"/event/create",className:"btn btn-primary w-100",children:[Object(f.jsx)(R.a,{})," Create event"]})})]})},Y=a(5),F=a.n(Y),k=a(83),W=a(84),K=a(85),V=a(86),I=function(e){if(!1===e.userLoaded)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var t=Object(f.jsx)("div",{}),a="currentDate d-flex";F()(e.viewDate).format("MM YYYY")!==F()().format("MM YYYY")&&(t=Object(f.jsx)(k.a,{size:"sm","aria-label":"View",className:"goToToday",children:Object(f.jsx)(h.a,{variant:"outline-primary",onClick:function(){return e.setViewDate(F()())},children:"Go to Today"})}),a+=" notToday");var n=Object(f.jsxs)("div",{className:"selectView d-flex",children:[Object(f.jsxs)(k.a,{size:"sm","aria-label":"View",className:"viewButtons",children:[Object(f.jsx)(h.a,{variant:"agenda"===e.view?"primary":"outline-primary",onClick:function(){return e.setView("agenda")},disabled:!0,children:"Agenda"}),Object(f.jsx)(h.a,{variant:"month"===e.view?"primary":"outline-primary",onClick:function(){return e.setView("month")},children:"Month"}),Object(f.jsx)(h.a,{variant:"year"===e.view?"primary":"outline-primary",onClick:function(){return e.setView("year")},disabled:!0,children:"Year"})]}),t]}),r=Object(f.jsx)("div",{className:"account",children:Object(f.jsx)("p",{className:"text-end",children:Object(f.jsxs)(o.b,{to:"/logout",className:"text-decoration-none",children:[e.user.name," ",Object(f.jsx)(W.a,{})]})})}),c=!1,s="MMMM",i="YYYY";return"month"===e.view?(c="months",s="MMMM",i="YYYY"):"year"===e.view&&(c="years",s="YYYY",i=!1),Object(f.jsxs)("div",{className:"top-nav",children:[n,Object(f.jsxs)("div",{className:a,children:[Object(f.jsx)("div",{className:"flex-fill",children:Object(f.jsxs)("h3",{className:"text-center",children:[Object(f.jsx)("span",{className:"chevron",onClick:function(){return e.setViewDate(F()(e.viewDate).subtract(1,c))},children:Object(f.jsx)(K.a,{})}),Object(f.jsxs)("span",{children:[F()(e.viewDate).format(s)," "]}),!1===i?"":Object(f.jsx)("span",{className:"fw-lighter",children:F()(e.viewDate).format(i)}),Object(f.jsx)("span",{className:"chevron",onClick:function(){return e.setViewDate(F()(e.viewDate).add(1,c))},children:Object(f.jsx)(V.a,{})})]})}),r]})]})},U=a(87),B=a(88),q=function(e){if(!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var t=e.dayDate,a="dayNum mt-0 mb-0";t.format("MM")!==e.viewDate.format("MM")&&(a="dayNum text-secondary");var n=[];return e.events.forEach((function(a){if(0!==e.calendars.filter((function(e){return e.id===a.calendar_id}))[0].visible){var r=a.color;if(0===parseInt(r)&&e.calendars.forEach((function(e){e.id===a.calendar_id&&(r=e.color)})),"arrangement"===a.type){var c=F()(a.start),s=F()(a.end);if(r=1===a.all_day||s.diff(c,"days")>0?"calendar-color-"+r+" calendar-background-color-"+r:"calendar-color-"+r,!0===t.isBetween(c,s,"days","[]"))if(0===a.all_day&&!0===e.showTimeSpecificEvents)if(c.format("DD-MM-YYYY")===s.format("DD-MM-YYYY")){var i="00"===c.format("mm")?c.format("HH"):c.format("HH:mm"),o="00"===s.format("mm")?s.format("HH"):s.format("HH:mm");n.push(Object(f.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+r+" arrangement-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsx)("p",{className:"name arrangement-"+a.id,children:a.name}),Object(f.jsxs)("p",{className:"info arrangement-"+a.id,children:[i,Object(f.jsx)(U.a,{}),o]})]},a.id))}else if(c.format("DD-MM-YYYY")===t.format("DD-MM-YYYY")){var l="00"===c.format("mm")?c.format("HH"):c.format("HH:mm");n.push(Object(f.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+r+" arrangement-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsx)("p",{className:"name arrangement-"+a.id,children:a.name}),Object(f.jsxs)("p",{className:"info arrangement-"+a.id,children:[l,Object(f.jsx)(U.a,{})]})]},a.id))}else if(s.format("DD-MM-YYYY")===t.format("DD-MM-YYYY")){var d="00"===s.format("mm")?s.format("HH"):s.format("HH:mm");n.push(Object(f.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+r+" arrangement-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsx)("p",{className:"name arrangement-"+a.id,children:a.name}),Object(f.jsxs)("p",{className:"info arrangement-"+a.id,children:[Object(f.jsx)(U.a,{}),d]})]},a.id))}else n.push(Object(f.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+r+" arrangement-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsx)("p",{className:"name arrangement-"+a.id,children:a.name}),Object(f.jsx)("p",{className:"info arrangement-"+a.id,children:Object(f.jsx)(U.a,{})})]},a.id));else 1===a.all_day&&!0===e.showAllDayEvents&&(c.format("DD-MM-YYYY")===s.format("DD-MM-YYYY")||s.format("DD-MM-YYYY")===t.format("DD-MM-YYYY")?n.push(Object(f.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+r+" arrangement-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsx)("p",{className:"name arrangement-"+a.id,children:a.name}),Object(f.jsx)("p",{className:"info arrangement-"+a.id})]},a.id)):n.push(Object(f.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+r+" arrangement-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsx)("p",{className:"name arrangement-"+a.id,children:a.name}),Object(f.jsx)("p",{className:"info arrangement-"+a.id,children:Object(f.jsx)(U.a,{})})]},a.id)))}else if("reminder"===a.type){var j=F()(a.start);if(r=1===a.all_day?"calendar-color-"+r+" calendar-background-color-"+r:"calendar-color-"+r,!0===t.isBetween(j,j,"days","[]"))if(0===a.all_day&&!0===e.showTimeSpecificEvents){var u="00"===j.format("mm")?j.format("HH"):j.format("HH:mm");n.push(Object(f.jsxs)("div",{className:"reminder reminder-timeSpecific "+r+" reminder-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsxs)("p",{className:"name reminder-"+a.id,children:[Object(f.jsx)(B.a,{})," ",a.name]}),Object(f.jsx)("p",{className:"info reminder-"+a.id,children:u})]},a.id))}else 1===a.all_day&&!0===e.showAllDayEvents&&n.push(Object(f.jsxs)("div",{className:"reminder reminder-timeSpecific "+r+" reminder-"+a.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(f.jsxs)("p",{className:"name reminder-"+a.id,children:[Object(f.jsx)(B.a,{})," ",a.name]}),Object(f.jsx)("p",{className:"info reminder-"+a.id})]},a.id))}}})),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:a+" "+e.today+" day-"+t.format("DD-MM-YYYY"),children:[t.format("D")," ",""===e.today?"":" \u2014 Today"]}),Object(f.jsx)("div",{children:n})]})},z=function(e){return!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded?Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(f.jsx)(f.Fragment,{children:e.week.map((function(t){var a=parseInt(e.index,10),n=e.firstDay,r=parseInt(e.firstDayDate,10),c=F()(n).add(t-r+7*a,"days"),s="";return c.format("DD MM YYYY")===F()().format("DD MM YYYY")&&(s="today"),Object(f.jsx)("div",{className:"day day-"+c.format("DD-MM-YYYY")+" "+s,onClick:function(t){e.setShowEventModal(t)},children:Object(f.jsx)(q,{day:t,dayDate:c,today:s,viewDate:e.viewDate,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,eventsLoaded:e.eventsLoaded,events:e.events,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents},t)},t)}))})},G=function(e){if(!1===e.userLoaded||!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var t=F()("01 "+F()(e.viewDate).format("MM")+F()(e.viewDate).format("YYYY"),"DD MM YYYY"),a=F()(t).format("d")-1;-1===a&&(a=6);var n=[["0","1","2","3","4","5","6"],["0","1","2","3","4","5","6"],["0","1","2","3","4","5","6"],["0","1","2","3","4","5","6"],["0","1","2","3","4","5","6"],["0","1","2","3","4","5","6"]].map((function(n,r){return Object(f.jsx)("div",{className:"week d-flex",style:{zIndex:r},children:Object(f.jsx)(z,{className:"week d-flex",week:n,index:r,firstDay:t,firstDayDate:a,viewDate:e.viewDate,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,eventsLoaded:e.eventsLoaded,events:e.events,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents},r)},r)}));return Object(f.jsxs)("div",{className:"month",children:[Object(f.jsxs)("div",{className:"daysOfWeek d-flex",children:[Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Mon"})}),Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Tue"})}),Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Wed"})}),Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Thu"})}),Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Fri"})}),Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Sat"})}),Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("p",{children:"Sun"})})]}),n]})},J=function(e){return!1===e.userLoaded||!0!==e.calendarsLoaded?Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"agenda"===e.view||"month"===e.view||"year"===e.view?Object(f.jsx)(G,{user:e.user,viewDate:e.viewDate,events:e.events,eventsLoaded:e.eventsLoaded,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents}):void 0},Q=a(95),X=a(89),Z=a(90),$=function(e){var t=function(){e.setShowEventModal(!1),e.setCalendarSelectedDate(F()(e.event.split("day-")[1].split(" ")[0],"DD-MM-YYYY"))};return Object(f.jsxs)(Q.a,{show:!0,onHide:function(){return e.setShowEventModal(!1)},children:[Object(f.jsx)(Q.a.Header,{closeButton:!0,children:Object(f.jsx)(Q.a.Title,{})}),Object(f.jsx)(Q.a.Body,{children:Object(f.jsxs)(m.a,{className:"formCard",children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create event"}),Object(f.jsxs)(h.a,{variant:"primary",size:"lg",className:"w-100 mt-3",onClick:function(){e.setShowArrangementModal(!0),t()},children:[Object(f.jsx)(X.a,{})," Arrangement"]}),Object(f.jsxs)(h.a,{variant:"outline-primary",size:"lg",className:"w-100 mt-3",onClick:function(){e.setShowReminderModal(!0),t()},children:[Object(f.jsx)(B.a,{})," Reminder"]}),Object(f.jsxs)(h.a,{variant:"outline-primary",size:"lg",className:"w-100 mt-3",disabled:!0,children:[Object(f.jsx)(Z.a,{})," Task"]}),Object(f.jsxs)(h.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowEventModal(!1)},children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})})]})},ee=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(!1===e.calendarSelectedDate?F()():e.calendarSelectedDate),u=Object(i.a)(j,1)[0],b=Object(n.useState)(u.format("YYYY-MM-DD")),O=Object(i.a)(b,2),x=O[0],p=O[1],v=Object(n.useState)((F()().add(1,"hours").format("HH")>=22||F()().format("DD")!==F()().add(1,"hours").format("DD"))&&!1!==u?u.add(1,"days").format("YYYY-MM-DD"):u.format("YYYY-MM-DD")),S=Object(i.a)(v,2),N=S[0],E=S[1],C=Object(n.useState)(!0),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(F()().add(1,"hours").format("HH")+":00"),D=Object(i.a)(_,2),A=D[0],L=D[1],P=Object(n.useState)(F()().add(2,"hours").format("HH")+":00"),M=Object(i.a)(P,2),H=M[0],Y=M[1],W=Object(n.useState)(e.user.main_calendar),V=Object(i.a)(W,2),I=V[0],U=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),z=q[0],G=q[1],J=Object(n.useState)(""),X=Object(i.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useState)(!1),te=Object(i.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){re()}),[]);var re=function(){ne(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){$(e),ne(!0)})).catch((function(e){alert(e)}))};if(!1===ae)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var ce=Z.map((function(t){return Object(f.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),se=Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return y(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return y(!1)},children:"Selected time"})]})});return!1===T&&(se=Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return y(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return y(!1)},children:"Selected time"})]})}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return L(e.target.value)},defaultValue:A,required:!0}),Object(f.jsx)(m.a.Label,{children:"Start Time *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEndTime",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"bottom",placeholder:"End Time *",onChange:function(e){return Y(e.target.value)},defaultValue:H,required:!0}),Object(f.jsx)(m.a.Label,{children:"End Time *"})]})]})),Object(f.jsxs)(Q.a,{show:!0,onHide:function(){return e.setShowArrangementModal(!1)},children:[Object(f.jsx)(Q.a.Header,{closeButton:!0,children:Object(f.jsx)(Q.a.Title,{children:"Create arrangement"})}),Object(f.jsx)(Q.a.Body,{children:Object(f.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=T,n=I,c=x+" "+A+":00",s=N+" "+H+":00";if(!0===a){if(c=x+" 00:00:00",s=N+" 00:00:00",F()(N).isBefore(F()(x)))return void alert("Start date should be before end date.")}else if(F()(N+" "+H).isBefore(F()(x+" "+A)))return void alert("Start date should be before end date.");fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/arrangement/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:l,start:c,end:s,all_day:a,calendar_id:n,color:z})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.setShowArrangementModal(!1),e.updateEvents()})).catch((function(t){alert(t),e.setShowArrangementModal(!1)}))},children:[Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return d(e.target.value)}}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return p(e.target.value)},defaultValue:x,required:!0}),Object(f.jsx)(m.a.Label,{children:"Start Date *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEndDate",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"bottom",placeholder:"End Date *",onChange:function(e){return E(e.target.value)},defaultValue:N,required:!0}),Object(f.jsx)(m.a.Label,{children:"End Date *"})]}),se,Object(f.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(f.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return U(e.target.value)},defaultValue:e.user.main_calendar,children:ce}),Object(f.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return G(e.target.value)},defaultValue:"",children:[Object(f.jsx)("option",{value:"0",children:"Color of calendar"}),Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(f.jsx)(R.a,{})," Create arrangement"]}),Object(f.jsxs)(h.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowArrangementModal(!1)},children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})})]})},te=a(91),ae=a(92),ne=a(93),re=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),b=u[0],O=u[1],x=Object(n.useState)(""),p=Object(i.a)(x,2),v=p[0],S=p[1],N=Object(n.useState)(""),E=Object(i.a)(N,2),C=E[0],w=E[1],T=Object(n.useState)(""),y=Object(i.a)(T,2),_=y[0],D=y[1],A=Object(n.useState)(""),L=Object(i.a)(A,2),P=L[0],R=L[1],M=Object(n.useState)(""),H=Object(i.a)(M,2),Y=H[0],W=H[1],K=Object(n.useState)(""),V=Object(i.a)(K,2),I=V[0],U=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),z=q[0],G=q[1],J=Object(n.useState)(""),X=Object(i.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),re=Object(i.a)(ee,2),ce=re[0],se=re[1],ie=Object(n.useCallback)((function(){c(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/arrangement/"+e.arrangement,{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0),S(e.name),w(e.description),W(1===e.all_day),D(e.start.split(" ")[0]),U(e.start.split(" ")[1]),R(e.end.split(" ")[0]),G(e.end.split(" ")[1]),$(e.calendar_id),se(e.color)})).catch((function(e){}))}),[e.arrangement]),oe=Object(n.useCallback)((function(){O(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){d(e),O(!0)})).catch((function(e){}))}),[]);Object(n.useEffect)((function(){e.setShowArrangementDetailsModal(!0),ie(),oe()}),[e,ie,oe]);var le=function(){e.setShowArrangementDetailsModal(!1),e.setShowEventModal(!1)},de=Object(f.jsx)("p",{children:"Loading..."}),je=Object(f.jsx)("div",{className:"text-center mt-5 mb-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),ue=Object(f.jsx)("span",{}),be=Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:!0===Y?"w-100 active":"w-100",onClick:function(){return W(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:!1===Y?"w-100 active":"w-100",onClick:function(){return W(!1)},children:"Selected time"})]})});return!1===Y&&(be=Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:!0===Y?"w-100 active":"w-100",onClick:function(){return W(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:!1===Y?"w-100 active":"w-100",onClick:function(){return W(!1)},children:"Selected time"})]})}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return U(e.target.value)},defaultValue:I,required:!0}),Object(f.jsx)(m.a.Label,{children:"Start Time *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEndTime",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"bottom",placeholder:"End Time *",onChange:function(e){return G(e.target.value)},defaultValue:z,required:!0}),Object(f.jsx)(m.a.Label,{children:"End Time *"})]})]})),!0===r&&!0===b&&(ue=l.map((function(t){return Object(f.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),de=Object(f.jsx)("p",{children:v}),je=Object(f.jsx)("div",{children:Object(f.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=Y,n=Z,r=_+" "+I+":00",c=P+" "+z+":00";if(!0===a){if(r=_+" 00:00:00",c=P+" 00:00:00",F()(P).isBefore(F()(_)))return void alert("Start date should be before end date.")}else if(F()(P+" "+z).isBefore(F()(_+" "+I)))return void alert("Start date should be before end date.");fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/arrangement/edit/"+e.arrangement,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:v,description:C,start:r,end:c,all_day:a,calendar_id:n,color:ce})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){le(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return S(e.target.value)},defaultValue:v,required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return w(e.target.value)},defaultValue:C}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return D(e.target.value)},defaultValue:_,required:!0}),Object(f.jsx)(m.a.Label,{children:"Start Date *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEndDate",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"bottom",placeholder:"End Date *",onChange:function(e){return R(e.target.value)},defaultValue:P,required:!0}),Object(f.jsx)(m.a.Label,{children:"End Date *"})]}),be,Object(f.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(f.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return $(e.target.value)},defaultValue:Z,children:ue}),Object(f.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return se(e.target.value)},defaultValue:ce,children:[Object(f.jsx)("option",{value:"0",children:"Color of calendar"}),Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(f.jsxs)(h.a,{variant:"outline-danger",onClick:function(){fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/arrangement/delete/"+e.arrangement,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){le(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(f.jsx)(te.a,{})," Delete"]}),Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsxs)(h.a,{variant:"outline-secondary",onClick:function(){return le()},children:[Object(f.jsx)(ae.a,{})," Close"]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",children:[Object(f.jsx)(ne.a,{})," Save"]})]})]})]})})),Object(f.jsxs)(Q.a,{show:e.showArrangementDetailsModal,onHide:function(){return le()},children:[Object(f.jsx)(Q.a.Header,{closeButton:!0,children:Object(f.jsx)(Q.a.Title,{children:de})}),Object(f.jsx)(Q.a.Body,{children:je})]})},ce=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(!1===e.calendarSelectedDate?F()():e.calendarSelectedDate),u=Object(i.a)(j,1)[0],b=Object(n.useState)(u.format("YYYY-MM-DD")),O=Object(i.a)(b,2),x=O[0],p=O[1],v=Object(n.useState)(!0),S=Object(i.a)(v,2),N=S[0],E=S[1],C=Object(n.useState)(F()().add(1,"hours").format("HH")+":00"),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(e.user.main_calendar),D=Object(i.a)(_,2),A=D[0],L=D[1],P=Object(n.useState)(""),M=Object(i.a)(P,2),H=M[0],Y=M[1],W=Object(n.useState)(""),V=Object(i.a)(W,2),I=V[0],U=V[1],B=Object(n.useState)(!1),q=Object(i.a)(B,2),z=q[0],G=q[1];Object(n.useEffect)((function(){J()}),[]);var J=function(){G(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){U(e),G(!0)})).catch((function(e){alert(e)}))};if(!1===z)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var X=I.map((function(t){return Object(f.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),Z=Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return E(!1)},children:"Selected time"})]})});return!1===N&&(Z=Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return E(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!1)},children:"Selected time"})]})}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return y(e.target.value)},defaultValue:T,required:!0}),Object(f.jsx)(m.a.Label,{children:"Time *"})]})]})),Object(f.jsxs)(Q.a,{show:!0,onHide:function(){return e.setShowReminderModal(!1)},children:[Object(f.jsx)(Q.a.Header,{closeButton:!0,children:Object(f.jsx)(Q.a.Title,{children:"Create reminder"})}),Object(f.jsx)(Q.a.Body,{children:Object(f.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=N,n=A,c=x+" "+T+":00";!0===a&&(c=x+" 00:00:00"),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/reminder/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:l,start:c,all_day:a,calendar_id:n,color:H})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.setShowReminderModal(!1),e.updateEvents()})).catch((function(t){alert(t),e.setShowReminderModal(!1)}))},children:[Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return d(e.target.value)}}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return p(e.target.value)},defaultValue:x,required:!0}),Object(f.jsx)(m.a.Label,{children:"Date *"})]}),Z,Object(f.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(f.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return L(e.target.value)},defaultValue:e.user.main_calendar,children:X}),Object(f.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return Y(e.target.value)},defaultValue:"",children:[Object(f.jsx)("option",{value:"0",children:"Color of calendar"}),Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(f.jsx)(R.a,{})," Create reminder"]}),Object(f.jsxs)(h.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowReminderModal(!1)},children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})})]})},se=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),b=u[0],O=u[1],x=Object(n.useState)(""),p=Object(i.a)(x,2),v=p[0],S=p[1],N=Object(n.useState)(""),E=Object(i.a)(N,2),C=E[0],w=E[1],T=Object(n.useState)(""),y=Object(i.a)(T,2),_=y[0],D=y[1],A=Object(n.useState)(""),L=Object(i.a)(A,2),P=L[0],R=L[1],M=Object(n.useState)(""),H=Object(i.a)(M,2),Y=H[0],F=H[1],W=Object(n.useState)(""),K=Object(i.a)(W,2),V=K[0],I=K[1],U=Object(n.useState)(""),B=Object(i.a)(U,2),q=B[0],z=B[1],G=Object(n.useCallback)((function(){c(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/reminder/"+e.reminder,{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0),S(e.name),w(e.description),R(1===e.all_day),D(e.start.split(" ")[0]),F(e.start.split(" ")[1]),I(e.calendar_id),z(e.color)})).catch((function(e){}))}),[e.reminder]),J=Object(n.useCallback)((function(){O(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){d(e),O(!0)})).catch((function(e){}))}),[]);Object(n.useEffect)((function(){e.setShowReminderDetailsModal(!0),G(),J()}),[e,G,J]);var X=function(){e.setShowReminderDetailsModal(!1),e.setShowEventModal(!1)},Z=Object(f.jsx)("p",{children:"Loading..."}),$=Object(f.jsx)("div",{className:"text-center mt-5 mb-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),ee=Object(f.jsx)("span",{}),re=Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:!0===P?"w-100 active":"w-100",onClick:function(){return R(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:!1===P?"w-100 active":"w-100",onClick:function(){return R(!1)},children:"Selected time"})]})});return!1===P&&(re=Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:!0===P?"w-100 active":"w-100",onClick:function(){return R(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:!1===P?"w-100 active":"w-100",onClick:function(){return R(!1)},children:"Selected time"})]})}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return F(e.target.value)},defaultValue:Y,required:!0}),Object(f.jsx)(m.a.Label,{children:"Time *"})]})]})),!0===r&&!0===b&&(ee=l.map((function(t){return Object(f.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),Z=Object(f.jsx)("p",{children:v}),$=Object(f.jsx)("div",{children:Object(f.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=P,n=V,r=_+" "+Y+":00";!0===a&&(r=_+" 00:00:00"),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/reminder/edit/"+e.reminder,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:v,description:C,start:r,all_day:a,calendar_id:n,color:q})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){X(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return S(e.target.value)},defaultValue:v,required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return w(e.target.value)},defaultValue:C}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return D(e.target.value)},defaultValue:_,required:!0}),Object(f.jsx)(m.a.Label,{children:"Date *"})]}),re,Object(f.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(f.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return I(e.target.value)},defaultValue:V,children:ee}),Object(f.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return z(e.target.value)},defaultValue:q,children:[Object(f.jsx)("option",{value:"0",children:"Color of calendar"}),Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(f.jsxs)(h.a,{variant:"outline-danger",onClick:function(){fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/reminder/delete/"+e.reminder,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){X(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(f.jsx)(te.a,{})," Delete"]}),Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsxs)(h.a,{variant:"outline-secondary",onClick:function(){return X()},children:[Object(f.jsx)(ae.a,{})," Close"]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",children:[Object(f.jsx)(ne.a,{})," Save"]})]})]})]})})),Object(f.jsxs)(Q.a,{show:e.showReminderDetailsModal,onHide:function(){return X()},children:[Object(f.jsx)(Q.a.Header,{closeButton:!0,children:Object(f.jsx)(Q.a.Title,{children:Z})}),Object(f.jsx)(Q.a.Body,{children:$})]})},ie=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,1)[0],r=Object(n.useState)("month"),c=Object(i.a)(r,2),s=c[0],o=c[1],d=Object(n.useState)(F()()),j=Object(i.a)(d,2),u=j[0],b=j[1],O=Object(n.useState)(!1),m=Object(i.a)(O,2),h=m[0],x=m[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),S=v[0],N=v[1],E=Object(n.useState)(!1),C=Object(i.a)(E,2),w=C[0],T=C[1],y=Object(n.useState)(!1),_=Object(i.a)(y,2),D=_[0],L=_[1],P=Object(n.useState)(!1),R=Object(i.a)(P,2),M=R[0],H=R[1],Y=Object(n.useState)(!1),k=Object(i.a)(Y,2),W=k[0],K=k[1],V=Object(f.jsx)("div",{}),U=Object(f.jsx)("div",{}),B=Object(f.jsx)("div",{});if(S.target){var q=S.target.classList.value;if(q.indexOf("day-")>0)V=Object(f.jsx)($,{setShowEventModal:N,setShowArrangementModal:T,setShowReminderModal:L,event:q,setCalendarSelectedDate:x});else if(q.indexOf("arrangement-")>0){var z=q.split("arrangement-")[1].split(" ")[0];"timeSpecific"!==z&&"allDay"!==z&&(U=Object(f.jsx)(re,{user:e.user,setShowEventModal:N,showArrangementDetailsModal:M,setShowArrangementDetailsModal:H,updateEvents:e.updateEvents,arrangement:z}))}else{var G=q.split("reminder-")[1].split(" ")[0];"timeSpecific"!==G&&"allDay"!==G&&(B=Object(f.jsx)(se,{user:e.user,setShowEventModal:N,showReminderDetailsModal:W,setShowReminderDetailsModal:K,updateEvents:e.updateEvents,reminder:G}))}}var Q=Object(f.jsx)("div",{});!0===w&&(Q=Object(f.jsx)(ee,{showArrangementModal:w,setShowArrangementModal:T,user:e.user,userLoaded:e.userLoaded,calendarSelectedDate:h,updateEvents:e.updateEvents}));var X=Object(f.jsx)("div",{});return!0===D&&(X=Object(f.jsx)(ce,{showReminderModal:D,setShowReminderModal:L,user:e.user,userLoaded:e.userLoaded,calendarSelectedDate:h,updateEvents:e.updateEvents})),a?Object(f.jsx)(l.a,{to:"/login"}):!1===e.userLoaded?Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===e.user.length?Object(f.jsx)(A,{}):Object(f.jsxs)("div",{className:"calendar",children:[V,Q,X,U,B,Object(f.jsx)(I,{user:e.user,userLoaded:e.userLoaded,view:s,setView:o,viewDate:u,setViewDate:b}),Object(f.jsx)(J,{user:e.user,userLoaded:e.userLoaded,view:s,viewDate:u,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,showEventModal:S,setShowEventModal:N,events:e.events,eventsLoaded:e.eventsLoaded,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents})]})},oe=function(){return Object(f.jsxs)("div",{className:"px-4 py-5 my-5 text-center",children:[Object(f.jsx)("img",{className:"d-block mx-auto mb-4",src:"img/desktop-computer.png",alt:"Desktop Computer",width:"72",height:"72"}),Object(f.jsx)("h1",{className:"display-6 fw-bold",children:"The window or screen is too small"}),Object(f.jsx)("p",{className:"lead mb-4",children:"Please resize the window to make it wider. If the window is full screen, use another large screen device such as a desktop computer."})]})},le=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,1)[0],r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),u=j[0],b=j[1],O=Object(n.useState)([]),m=Object(i.a)(O,2),h=m[0],x=m[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),S=v[0],N=v[1],C=Object(n.useState)(!0),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(!0),D=Object(i.a)(_,2),L=D[0],P=D[1],R=Object(E.useMediaQuery)({query:"(max-width: 1100px)"});Object(n.useEffect)((function(){M(),Y()}),[]);var M=function(){b(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){o(e),b(!0)})).catch((function(e){}))},Y=function(){N(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/events",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){x(e),N(!0)})).catch((function(e){}))};return a?Object(f.jsx)(l.a,{to:"/login"}):!0===R&&"http://localhost:8000"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN?Object(f.jsx)(oe,{}):!1===e.userLoaded?Object(f.jsxs)("div",{className:"text-center mt-5",children:[Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(f.jsx)("p",{className:"text-muted",children:"First loading may take a while..."})]}):0===e.user.length?Object(f.jsx)(A,{}):Object(f.jsxs)("div",{children:[Object(f.jsx)(H,{user:e.user,setUser:e.setUser,calendars:s,calendarsLoaded:u,updateEvents:Y,showAllDayEvents:T,setShowAllDayEvents:y,showTimeSpecificEvents:L,setShowTimeSpecificEvents:P}),Object(f.jsx)(ie,{user:e.user,setUser:e.setUser,calendars:s,calendarsLoaded:u,showAllDayEvents:T,showTimeSpecificEvents:L,updateEvents:Y,events:h,eventsLoaded:S})]})},de=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],b=Object(n.useState)(0),O=Object(i.a)(b,2),x=O[0],p=O[1],v=Object(n.useState)(!1),S=Object(i.a)(v,2),N=S[0],E=S[1];return N?Object(f.jsx)(l.a,{to:"/"}):Object(f.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault(),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,color:x})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){E(!0)})).catch((function(e){alert(e)}))},children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create calendar"}),Object(f.jsxs)(m.a.Floating,{controlid:"formName",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Home",onChange:function(e){return c(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"middle",placeholder:"Calendar for home events",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return p(e.target.value)},defaultValue:"0",children:[Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(f.jsx)(P.a,{})," Create calendar"]}),Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})},je=Object(l.h)((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],b=Object(n.useState)(),O=Object(i.a)(b,2),x=O[0],p=O[1],v=Object(n.useState)(!1),S=Object(i.a)(v,2),N=S[0],E=S[1],C=Object(n.useState)(""),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(!1),D=Object(i.a)(_,2),A=D[0],L=D[1],P=Object(l.f)();Object(n.useEffect)((function(){R()}),[]);if(N)return Object(f.jsx)(l.a,{to:"/"});var R=function(){L(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){y(e),L(!0)})).catch((function(e){alert(e)}))};if(!1===A)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var M=T.filter((function(t){return parseInt(t.id,10)===parseInt(e.match.params.id,10)}))[0],H=Object(f.jsxs)("div",{className:"mt-3",children:[Object(f.jsx)(o.b,{to:{pathname:"/calendar/editMain/"+e.match.params.id,state:{mainName:M.name}},className:"w-100 btn btn-lg btn-warning",children:"Make the main calendar"}),Object(f.jsx)(h.a,{variant:"danger",size:"lg",className:"w-100 mt-3",onClick:function(){return P.push("/calendar/delete/"+e.match.params.id)},children:"Delete calendar"})]});return M.id===e.user.main_calendar&&(H=Object(f.jsx)("div",{className:"mt-3",children:Object(f.jsx)("p",{className:"text-center",children:"You can't delete your main calendar"})})),Object(f.jsx)("div",{children:Object(f.jsxs)(m.a,{className:"formCard",onSubmit:function(t){t.preventDefault(),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/edit/"+e.match.params.id,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,color:x})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){E(!0)})).catch((function(e){alert(e)}))},children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsxs)("h1",{className:"h3 mb-3 fw-normal text-center",children:["Edit ",Object(f.jsx)("code",{children:M.name})," calendar"]}),Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Home",onChange:function(e){return c(e.target.value)},defaultValue:M.name,required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"middle",placeholder:"Calendar for home events",defaultValue:M.description,onChange:function(e){return u(e.target.value)}}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return p(e.target.value)},defaultValue:M.color,children:[Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)(h.a,{variant:"primary",size:"lg",className:"w-100 mt-3",type:"submit",children:[Object(f.jsx)(ne.a,{})," Save changes"]}),Object(f.jsx)("hr",{className:"mt-3"}),H,Object(f.jsx)("hr",{className:"mt-3"}),Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})})})),ue=Object(l.h)((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(parseInt(e.match.params.id,10)),d=Object(i.a)(s,1)[0],j=Object(n.useState)(""),u=Object(i.a)(j,2),b=u[0],O=u[1],x=Object(n.useState)(!1),p=Object(i.a)(x,2),v=p[0],S=p[1];Object(n.useEffect)((function(){N()}),[]);if(r)return Object(f.jsx)(l.a,{to:"/"});var N=function(){S(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){O(e),S(!0)})).catch((function(e){alert(e)}))};if(!1===v)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var E=b.filter((function(e){return parseInt(e.id,10)===d}))[0];return Object(f.jsxs)(m.a,{className:"formCard",onSubmit:function(t){t.preventDefault(),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/editMain/"+d,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){c(!0),e.setUser(t)})).catch((function(e){alert(e)}))},children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Update main calendar"}),Object(f.jsxs)("p",{className:"text-center",children:["You are going to change your main calendar to the ",Object(f.jsx)("code",{children:E.name})," calendar."]}),Object(f.jsxs)(h.a,{variant:"primary",size:"lg",className:"w-100 mt-3",type:"submit",children:[Object(f.jsx)(ne.a,{})," Update main calendar"]}),Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})})),be=a(96),Oe=a(94),me=Object(l.h)((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(parseInt(e.match.params.id,10)),d=Object(i.a)(s,1)[0],j=Object(n.useState)(""),u=Object(i.a)(j,2),b=u[0],O=u[1],x=Object(n.useState)(!1),p=Object(i.a)(x,2),v=p[0],S=p[1];Object(n.useEffect)((function(){N()}),[]);if(r)return Object(f.jsx)(l.a,{to:"/"});var N=function(){S(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){O(e),S(!0)})).catch((function(e){alert(e),S(!1)}))};if(!0!==v)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var E=b.filter((function(e){return parseInt(e.id,10)===d}))[0],C=Object(f.jsxs)("div",{children:[Object(f.jsx)(be.a,{variant:"danger",className:"text-center mt-3",children:"This action is irreversible"},E.id),Object(f.jsxs)(h.a,{variant:"danger",size:"lg",className:"w-100 mt-3",type:"submit",children:[Object(f.jsx)(Oe.a,{})," Delete calendar"]})]});return e.user.main_calendar===E.id&&(C=Object(f.jsx)(be.a,{variant:"warning",className:"text-center",children:"You can't delete your main calendar"},E.id)),Object(f.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault(),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/delete/"+d,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0)})).catch((function(e){alert(e)}))},children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsxs)("h1",{className:"h3 mb-3 fw-normal text-center",children:["Delete ",Object(f.jsx)("code",{children:E.name})," calendar"]}),Object(f.jsxs)("p",{className:"text-center",children:["You are going to delete this calendar.",Object(f.jsx)("br",{}),"All events in this calendar, as well as access settings will be deleted"]}),C,Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})})),he=function(e){return Object(f.jsxs)(m.a,{className:"formCard",children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create event"}),Object(f.jsxs)(o.b,{to:"/arrangement/create",className:"w-100 btn btn-lg btn-primary mt-3",children:[Object(f.jsx)(X.a,{})," Arrangement"]}),Object(f.jsxs)(o.b,{to:"/reminder/create",className:"w-100 btn btn-lg btn-outline-primary mt-3",children:[Object(f.jsx)(B.a,{})," Reminder"]}),Object(f.jsxs)(h.a,{variant:"outline-primary",size:"lg",className:"w-100 mt-3",disabled:!0,children:[Object(f.jsx)(Z.a,{})," Task"]}),Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})},xe=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],b=Object(n.useState)(F()().format("YYYY-MM-DD")),O=Object(i.a)(b,2),x=O[0],p=O[1],v=Object(n.useState)(F()().format("YYYY-MM-DD")),S=Object(i.a)(v,2),N=S[0],E=S[1],C=Object(n.useState)(!0),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(F()().add(1,"hours").format("HH")+":00"),D=Object(i.a)(_,2),A=D[0],L=D[1],P=Object(n.useState)(F()().add(2,"hours").format("HH")+":00"),M=Object(i.a)(P,2),H=M[0],Y=M[1],W=Object(n.useState)(e.user.main_calendar),V=Object(i.a)(W,2),I=V[0],U=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),z=q[0],G=q[1],J=Object(n.useState)(!1),Q=Object(i.a)(J,2),X=Q[0],Z=Q[1],$=Object(n.useState)(""),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(i.a)(ne,2),ce=re[0],se=re[1];Object(n.useEffect)((function(){ie(),(F()().add(1,"hours").format("HH")>=22||F()().format("DD")!==F()().add(1,"hours").format("DD"))&&E(F()().add(1,"days").format("YYYY-MM-DD"))}),[]);if(X)return Object(f.jsx)(l.a,{to:"/"});var ie=function(){se(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){ae(e),se(!0)})).catch((function(e){alert(e)}))};if(!1===ce)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var oe=te.map((function(t){return Object(f.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),le=Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return y(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return y(!1)},children:"Selected time"})]})});return!1===T&&(le=Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return y(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return y(!1)},children:"Selected time"})]})}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return L(e.target.value)},defaultValue:A,required:!0}),Object(f.jsx)(m.a.Label,{children:"Start Time *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEndTime",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"bottom",placeholder:"End Time *",onChange:function(e){return Y(e.target.value)},defaultValue:H,required:!0}),Object(f.jsx)(m.a.Label,{children:"End Time *"})]})]})),Object(f.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault();var t=T,a=I,n=x+" "+A+":00",c=N+" "+H+":00";if(!0===t){if(n=x+" 00:00:00",c=N+" 00:00:00",F()(N).isBefore(F()(x)))return void alert("Start date should be before end date.")}else if(F()(N+" "+H).isBefore(F()(x+" "+A)))return void alert("Start date should be before end date.");fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/arrangement/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,start:n,end:c,all_day:t,calendar_id:a,color:z})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){Z(!0)})).catch((function(e){alert(e)}))},children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create arrangement"}),Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return p(e.target.value)},defaultValue:x,required:!0}),Object(f.jsx)(m.a.Label,{children:"Start Date *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formEndDate",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"bottom",placeholder:"End Date *",onChange:function(e){return E(e.target.value)},defaultValue:N,required:!0}),Object(f.jsx)(m.a.Label,{children:"End Date *"})]}),le,Object(f.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(f.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return U(e.target.value)},defaultValue:e.user.main_calendar,children:oe}),Object(f.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return G(e.target.value)},defaultValue:"",children:[Object(f.jsx)("option",{value:"0",children:"Color of calendar"}),Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(f.jsx)(R.a,{})," Create arrangement"]}),Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})},fe=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],b=Object(n.useState)(F()().format("YYYY-MM-DD")),O=Object(i.a)(b,2),x=O[0],p=O[1],v=Object(n.useState)(!1),S=Object(i.a)(v,2),N=S[0],E=S[1],C=Object(n.useState)(F()().add(1,"hours").format("HH")+":00"),w=Object(i.a)(C,2),T=w[0],y=w[1],_=Object(n.useState)(e.user.main_calendar),D=Object(i.a)(_,2),A=D[0],L=D[1],P=Object(n.useState)(""),M=Object(i.a)(P,2),H=M[0],Y=M[1],W=Object(n.useState)(!1),V=Object(i.a)(W,2),I=V[0],U=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),z=q[0],G=q[1],J=Object(n.useState)(!1),Q=Object(i.a)(J,2),X=Q[0],Z=Q[1];Object(n.useEffect)((function(){$()}),[]);if(I)return Object(f.jsx)(l.a,{to:"/"});var $=function(){Z(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){G(e),Z(!0)})).catch((function(e){alert(e)}))};if(!1===X)return Object(f.jsx)("div",{className:"text-center mt-5",children:Object(f.jsx)(g.a,{animation:"grow",variant:"primary",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var ee=z.map((function(t){return Object(f.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),te=Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return E(!1)},children:"Selected time"})]})});return!1===N&&(te=Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(f.jsxs)(k.a,{"aria-label":"All Day",className:"d-flex",children:[Object(f.jsx)(h.a,{variant:"primary",className:"w-100",onClick:function(){return E(!0)},children:"All day"}),Object(f.jsx)(h.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!1)},children:"Selected time"})]})}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return y(e.target.value)},defaultValue:T,required:!0}),Object(f.jsx)(m.a.Label,{children:"Time *"})]})]})),Object(f.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault();var t=N,a=A,n=x+" "+T+":00";!0===t&&(n=x+" 00:00:00"),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/reminder/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,start:n,all_day:t,calendar_id:a,color:H})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){U(!0)})).catch((function(e){alert(e)}))},children:[Object(f.jsx)("p",{className:"text-center",children:Object(f.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create reminder"}),Object(f.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(f.jsx)(m.a.Label,{children:"Name *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(f.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)(m.a.Label,{children:"Description"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(f.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return p(e.target.value)},defaultValue:x,required:!0}),Object(f.jsx)(m.a.Label,{children:"Date *"})]}),te,Object(f.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(f.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return L(e.target.value)},defaultValue:e.user.main_calendar,children:ee}),Object(f.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(f.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(f.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return Y(e.target.value)},defaultValue:"",children:[Object(f.jsx)("option",{value:"0",children:"Color of calendar"}),Object(f.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(f.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(f.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(f.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(f.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(f.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(f.jsx)(m.a.Label,{children:"Color *"})]}),Object(f.jsxs)(h.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(f.jsx)(R.a,{})," Create reminder"]}),Object(f.jsxs)(o.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(f.jsx)(K.a,{}),"Go back to Calendar"]})]})};var pe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),d=s[0],j=s[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){j(!1),fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DOMAIN+"/api/user",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){r(e),j(!0)})).catch((function(e){j(!0)}))};return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(l.b,{path:"/",exact:!0,component:function(){return Object(f.jsx)(le,{user:a,userLoaded:d})}}),Object(f.jsx)(l.b,{path:"/login",component:function(){return Object(f.jsx)(p,{setUser:r})}}),Object(f.jsx)(l.b,{path:"/register",component:function(){return Object(f.jsx)(S,{setUser:r})}}),Object(f.jsx)(l.b,{path:"/logout",component:function(){return Object(f.jsx)(N,{user:a,setUser:r})}}),Object(f.jsx)(l.b,{path:"/calendar/create",component:function(){return Object(f.jsx)(de,{user:a})}}),Object(f.jsx)(l.b,{path:"/calendar/edit/:id",component:function(){return Object(f.jsx)(je,{user:a})}}),Object(f.jsx)(l.b,{path:"/calendar/editMain/:id",component:function(){return Object(f.jsx)(ue,{user:a,setUser:r})}}),Object(f.jsx)(l.b,{path:"/calendar/delete/:id",component:function(){return Object(f.jsx)(me,{user:a})}}),Object(f.jsx)(l.b,{path:"/event/create",component:function(){return Object(f.jsx)(he,{user:a})}}),Object(f.jsx)(l.b,{path:"/arrangement/create",component:function(){return Object(f.jsx)(xe,{user:a})}}),Object(f.jsx)(l.b,{path:"/reminder/create",component:function(){return Object(f.jsx)(fe,{user:a})}})]})})},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(68);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(pe,{})}),document.getElementById("root")),ve()}},[[69,1,2]]]);
//# sourceMappingURL=main.7c21a186.chunk.js.map