(this.webpackJsonpplanse=this.webpackJsonpplanse||[]).push([[0],{68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),s=a.n(c),i=a(2),l=a(9),o=a(11),d=a(25),j=a.n(d),u=a(31),h=a(100),b=a(71),m=a(99),O=a(72),x=a(73),p=a(0),f=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),f=d[0],v=d[1],g=Object(n.useState)(!1),w=Object(i.a)(g,2),N=w[0],y=w[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(!1),T=Object(i.a)(k,2),L=T[0],M=T[1],Y=Object(n.useState)(!0),A=Object(i.a)(Y,2),F=A[0],V=A[1],P=Object(o.g)().state,R=function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),E(""),M(!1),fetch("https://planse-api.vchkhr.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r,password:f})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){y(!0),E(""),e.setUser(t),V(!1)})).catch((function(e){E(e.toString()),M(!0),V(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(N)return Object(p.jsx)(o.a,{to:"/"});var H=Object(p.jsxs)(h.a,{onClose:function(){return M(!1)},show:L,delay:5e3,autohide:!0,children:[Object(p.jsxs)(h.a.Header,{children:[Object(p.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(p.jsx)("strong",{className:"me-auto",children:"Invalid Login"})]}),Object(p.jsx)(h.a.Body,{children:D})]});"Error: Error 401: Unauthorized"!==D&&"Error: Error 401: "!==D||(H=Object(p.jsxs)(h.a,{onClose:function(){return M(!1)},show:L,delay:5e3,autohide:!0,children:[Object(p.jsxs)(h.a.Header,{children:[Object(p.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(p.jsx)("strong",{className:"me-auto",children:"Invalid Login"})]}),Object(p.jsx)(h.a.Body,{children:"Email or password incorrect."})]}));var _=Object(p.jsx)("div",{});return void 0===P||D||"false"!==P.justRegistered&&(_=Object(p.jsxs)(h.a,{onClose:function(){return V(!1)},show:F,delay:5e3,autohide:!0,children:[Object(p.jsxs)(h.a.Header,{children:[Object(p.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(p.jsx)("strong",{className:"me-auto",children:"Account Registered"})]}),Object(p.jsx)(h.a.Body,{children:"Now you can login with your email and password."})]})),Object(p.jsxs)("div",{children:[Object(p.jsxs)(b.a,{position:"bottom-end",className:"p-3",children:[D?H:"",_]}),Object(p.jsxs)(m.a,{className:"formCard",onSubmit:R,children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Login to PLANSE"}),Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)(l.b,{to:"/register",children:"Register instead"})}),Object(p.jsxs)(m.a.Floating,{controlid:"formEmail",children:[Object(p.jsx)(m.a.Control,{type:"email",className:"top",placeholder:"name@example.com",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Email"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formPassword",children:[Object(p.jsx)(m.a.Control,{type:"password",className:"bottom",placeholder:"password",onChange:function(e){return v(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Password"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100",children:["Log in ",Object(p.jsx)(x.a,{})]}),Object(p.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})]})},v=a(74),g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(i.a)(c,2),d=s[0],x=s[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),w=g[0],N=g[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],E=Object(n.useState)(""),k=Object(i.a)(E,2),T=k[0],L=k[1],M=Object(n.useState)(!1),Y=Object(i.a)(M,2),A=Y[0],F=Y[1],V=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),L(""),fetch("https://planse-api.vchkhr.com/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:d,password:w})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){D(!0),L(""),F(!1)})).catch((function(e){L(e.toString()),F(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(C)return Object(p.jsx)(o.a,{to:{pathname:"/login",state:{justRegistered:"true"}}});var P=Object(p.jsxs)(h.a,{onClose:function(){return F(!1)},show:A,delay:5e3,autohide:!0,children:[Object(p.jsxs)(h.a.Header,{children:[Object(p.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(p.jsx)("strong",{className:"me-auto",children:"Register Error"})]}),Object(p.jsx)(h.a.Body,{children:T})]});return"Error: Error 409: Conflict"!==T&&"Error: Error 409: "!==T||(P=Object(p.jsxs)(h.a,{onClose:function(){return F(!1)},show:A,delay:5e3,autohide:!0,children:[Object(p.jsxs)(h.a.Header,{children:[Object(p.jsx)("img",{src:"logo-20x20.png",className:"rounded me-2",alt:"PLANSE"}),Object(p.jsx)("strong",{className:"me-auto",children:"Register Error"})]}),Object(p.jsx)(h.a.Body,{children:"This email is already registered."})]})),Object(p.jsxs)("div",{children:[Object(p.jsx)(b.a,{position:"bottom-end",className:"p-3",children:T?P:""}),Object(p.jsxs)(m.a,{className:"formCard register",onSubmit:V,children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Register on PLANSE"}),Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)(l.b,{to:"/login",children:"Login instead"})}),Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Ed Baldwin",onChange:function(e){return r(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEmail",children:[Object(p.jsx)(m.a.Control,{type:"email",className:"middle",placeholder:"name@example.com",onChange:function(e){return x(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Email address"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formPassword",children:[Object(p.jsx)(m.a.Control,{type:"password",className:"bottom",placeholder:"password",onChange:function(e){return N(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Password"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100",children:["Register ",Object(p.jsx)(v.a,{})]}),Object(p.jsxs)("p",{className:"mt-3 mb-3 text-muted text-center",children:["You will be redirected to the login page.",Object(p.jsx)("br",{}),"Email verification doesn't needed.",Object(p.jsx)("br",{}),"We'll never share your email with anyone else"]}),Object(p.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})]})},w=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch("https://planse-api.vchkhr.com/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});case 3:c(!0),e.setUser([]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r?Object(p.jsx)(o.a,{to:"/"}):Object(p.jsxs)(m.a,{className:"formCard",onSubmit:s,children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsxs)("h1",{className:"h3 mb-3 fw-normal text-center",children:[e.user.name,", do you really want to log out?"]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100",children:["Log out ",Object(p.jsx)(v.a,{})]}),Object(p.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})},N=a(30),y=a(79),S=a(75),C=a(76),D=a(77),E=a(78),k=function(e){var t=Object(p.jsx)("span",{});return e.user.main_calendar===e.calendar.id&&(t=Object(p.jsx)("span",{className:"text-secondary",title:"This is your main calendar",children:Object(p.jsx)(S.a,{})})),Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("p",{className:"mt-0 mb-0 flex-fill",children:Object(p.jsxs)("span",{className:"calendar-color-"+e.calendar.color,title:"Show or hide this calendar",children:[Object(p.jsx)(l.b,{to:"#",className:"color-inherit",onClick:function(){return function(t){var a=1===e.calendar.visible?0:1;fetch("https://planse-api.vchkhr.com/api/calendar/edit/"+t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({visible:a})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.fetchCalendars()})).catch((function(t){alert(t),e.fetchCalendars()}))}(e.calendar.id)},children:1===e.calendar.visible?Object(p.jsx)(C.a,{}):Object(p.jsx)(D.a,{})})," ",e.calendar.name]})}),Object(p.jsxs)("p",{className:"mt-0 mb-0",children:[Object(p.jsxs)("span",{className:"pr-3",children:[t," "]}),Object(p.jsx)("span",{children:Object(p.jsx)(l.b,{to:"/calendar/edit/"+e.calendar.id,className:"text-decoration-none text-secondary",title:"Edit this calendar",children:Object(p.jsx)(E.a,{})})})]})]})},T=function(e){if(!1===e.userLoaded)return Object(p.jsx)("div",{});if(!0!==e.calendarsLoaded)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var t=e.calendars.map((function(t){return Object(p.jsx)(k,{calendar:t,user:e.user,fetchCalendars:e.fetchCalendars},t.id)}));return Object(p.jsx)("div",{children:t})},L=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)(m.a,{className:"formCard",children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Welcome to PLANSE"}),Object(p.jsx)("p",{className:"text-center",children:"Online calendar application."}),Object(p.jsx)(l.b,{to:"/login",className:"w-100 btn btn-lg btn-primary",children:"Log in"}),Object(p.jsx)(l.b,{to:"/register",className:"w-100 btn btn-lg btn-outline-primary mt-3",children:"Register"}),Object(p.jsx)("p",{className:"mt-5 mb-3 text-muted text-center",children:"\xa9 PLANSE, 2021"})]})})},M=a(80),Y=a(81),A=a(82),F=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"All day events"}),Object(p.jsx)(m.a,{className:"mt-0 mb-0",children:Object(p.jsx)(m.a.Check,{type:"switch",id:"showAllDayEvents","aria-label":"All day events",defaultChecked:e.showAllDayEvents,onChange:function(){return e.setShowAllDayEvents(!e.showAllDayEvents),void e.updateEvents()}})})]}),Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"Time-specific events"}),Object(p.jsx)(m.a,{className:"mt-0 mb-0",children:Object(p.jsx)(m.a.Check,{type:"switch",id:"showTimeSpecificEvents","aria-label":"Time-specific events",defaultChecked:e.showTimeSpecificEvents,onChange:function(){return e.setShowTimeSpecificEvents(!e.showTimeSpecificEvents),void e.updateEvents()}})})]}),Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"Arrangements"}),Object(p.jsx)(m.a,{className:"mt-0 mb-0",children:Object(p.jsx)(m.a.Check,{type:"switch",id:"showArrangements","aria-label":"Arrangements",defaultChecked:e.showArrangements,onChange:function(){return e.setShowArrangements(!e.showArrangements),void e.updateEvents()}})})]}),Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"Reminders"}),Object(p.jsx)(m.a,{className:"mt-0 mb-0",children:Object(p.jsx)(m.a.Check,{type:"switch",id:"showReminders","aria-label":"Reminders",defaultChecked:e.showReminders,onChange:function(){return e.setShowReminders(!e.showReminders),void e.updateEvents()}})})]}),Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("p",{className:"mt-0 mb-0 flex-fill text-muted",children:"Tasks"}),Object(p.jsx)(m.a,{className:"mt-0 mb-0",children:Object(p.jsx)(m.a.Check,{type:"switch",id:"showTasks","aria-label":"Tasks",defaultChecked:e.showTasks,onChange:function(){return e.setShowTasks(!e.showTasks),void e.updateEvents()}})})]})]})},V=function(e){var t=Object(n.useState)(!1);return Object(i.a)(t,1)[0]?Object(p.jsx)(o.a,{to:"/login"}):!1===e.userLoaded?Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===e.user.length?Object(p.jsx)(L,{}):Object(p.jsxs)("div",{className:"left-bar",children:[Object(p.jsxs)("h5",{className:"calendar-entry",children:[Object(p.jsx)(M.a,{})," PLANSE Calendars"]}),Object(p.jsxs)("div",{className:"d-flex calendar-entry",children:[Object(p.jsx)("h6",{className:"text-muted flex-fill",children:"Your calendars"}),Object(p.jsx)("h6",{children:Object(p.jsx)(l.b,{to:"calendar/create",className:"text-secondary",title:"Create calendar",children:Object(p.jsx)(Y.a,{})})})]}),Object(p.jsx)(T,{user:e.user,userLoaded:e.userLoaded,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,fetchCalendars:e.fetchCalendars}),Object(p.jsx)("div",{className:"d-flex calendar-entry mt-5",children:Object(p.jsx)("h6",{className:"text-muted flex-fill",children:"Events"})}),Object(p.jsx)(F,{showAllDayEvents:e.showAllDayEvents,setShowAllDayEvents:e.setShowAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,setShowTimeSpecificEvents:e.setShowTimeSpecificEvents,updateEvents:e.updateEvents,showArrangements:e.showArrangements,showReminders:e.showReminders,showTasks:e.showTasks,setShowArrangements:e.setShowArrangements,setShowReminders:e.setShowReminders,setShowTasks:e.setShowTasks}),Object(p.jsx)("p",{className:"mt-3",children:Object(p.jsxs)(l.b,{to:"/event/create",className:"btn btn-primary w-100",children:[Object(p.jsx)(A.a,{})," Create event"]})})]})},P=a(5),R=a.n(P),H=a(83),_=a(84),B=a(85),q=a(86),z=function(e){var t=Object(N.useMediaQuery)({query:"(max-width: 1350px)"}),a=Object(N.useMediaQuery)({query:"(max-width: 850px)"});if(!1===e.userLoaded)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var n=Object(p.jsx)("div",{}),r="currentDate col ";R()(e.viewDate).format("MM YYYY")!==R()().format("MM YYYY")&&(n=Object(p.jsx)(H.a,{size:"sm","aria-label":"View",className:"goToToday",children:Object(p.jsxs)(O.a,{variant:"outline-primary",onClick:function(){return e.setViewDate(R()())},children:[" ",t?"TOD":"Today"," "]})}),r+=" notToday");var c=Object(p.jsxs)("div",{className:"selectView",children:[Object(p.jsxs)(H.a,{size:"sm","aria-label":"View",className:"viewButtons",children:[Object(p.jsxs)(O.a,{variant:"agenda"===e.view?"primary":"outline-primary",onClick:function(){return e.setView("agenda")},disabled:!0,children:[" ",t?"A":"Agenda"," "]}),Object(p.jsxs)(O.a,{variant:"month"===e.view?"primary":"outline-primary",onClick:function(){return e.setView("month")},children:[" ",t?"M":"Month"," "]}),Object(p.jsxs)(O.a,{variant:"year"===e.view?"primary":"outline-primary",onClick:function(){return e.setView("year")},children:[" ",t?"Y":"Year"," "]})]}),n]}),s=Object(p.jsx)("div",{className:"account",children:Object(p.jsx)("p",{className:"text-end",children:Object(p.jsxs)(l.b,{to:"/logout",className:"text-decoration-none",children:[" ",t?e.user.name.match(/[A-Z]/g).join(""):e.user.name," ",Object(p.jsx)(_.a,{})]})})}),i=!1,o="MMMM",d="YYYY";"month"===e.view?(i="months",o="MMMM",d="YYYY",t&&(o="MMM",d="YY")):"year"===e.view&&(i="years",o="YYYY",d=!1);var j="";return a&&(j="warn"),Object(p.jsx)("div",{className:"top-nav container "+j,children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:c}),Object(p.jsx)("div",{className:r,children:Object(p.jsx)("div",{children:Object(p.jsxs)("h3",{className:"text-center",children:[Object(p.jsx)("span",{className:"chevron",onClick:function(){return e.setViewDate(R()(e.viewDate).subtract(1,i))},children:Object(p.jsx)(B.a,{})}),Object(p.jsxs)("span",{children:[R()(e.viewDate).format(o)," "]}),!1===d?"":Object(p.jsx)("span",{className:"fw-lighter",children:R()(e.viewDate).format(d)}),Object(p.jsx)("span",{className:"chevron",onClick:function(){return e.setViewDate(R()(e.viewDate).add(1,i))},children:Object(p.jsx)(q.a,{})})]})})}),Object(p.jsx)("div",{className:"col",children:s})]})})},G=a(87),J=a(88),I=a(89),U=a(90),W=function(e){var t=Object(N.useMediaQuery)({query:"(max-width: 1350px)"});if(!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var a=e.dayDate,n="dayNum mt-0 mb-0";a.format("MM")!==e.viewDate.format("MM")&&(n="dayNum text-secondary");var r=[];return e.events.forEach((function(t){if(0!==e.calendars.filter((function(e){return e.id===t.calendar_id}))[0].visible){var n=t.color;if(0===parseInt(n)&&e.calendars.forEach((function(e){e.id===t.calendar_id&&(n=e.color)})),"arrangement"===t.type&&!0===e.showArrangements){var c=R()(t.start),s=R()(t.end);if(n=1===t.all_day||s.diff(c,"days")>0?"calendar-color-"+n+" calendar-background-color-"+n:"calendar-color-"+n,!0===a.isBetween(c,s,"days","[]"))if(0===t.all_day&&!0===e.showTimeSpecificEvents)if(c.format("DD-MM-YYYY")===s.format("DD-MM-YYYY")){var i="00"===c.format("mm")?c.format("HH"):c.format("HH:mm"),l="00"===s.format("mm")?s.format("HH"):s.format("HH:mm");r.push(Object(p.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+n+" arrangement-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(p.jsx)("p",{className:"name arrangement-"+t.id,children:t.name}),Object(p.jsxs)("p",{className:"info arrangement-"+t.id,children:[i,Object(p.jsx)(G.a,{}),l]})]},t.id))}else if(c.format("DD-MM-YYYY")===a.format("DD-MM-YYYY")){var o="00"===c.format("mm")?c.format("HH"):c.format("HH:mm");r.push(Object(p.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+n+" arrangement-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(p.jsx)("p",{className:"name arrangement-"+t.id,children:t.name}),Object(p.jsxs)("p",{className:"info arrangement-"+t.id,children:[o,Object(p.jsx)(G.a,{})]})]},t.id))}else if(s.format("DD-MM-YYYY")===a.format("DD-MM-YYYY")){var d="00"===s.format("mm")?s.format("HH"):s.format("HH:mm");r.push(Object(p.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+n+" arrangement-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(p.jsx)("p",{className:"name arrangement-"+t.id,children:t.name}),Object(p.jsxs)("p",{className:"info arrangement-"+t.id,children:[Object(p.jsx)(G.a,{}),d]})]},t.id))}else r.push(Object(p.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+n+" arrangement-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(p.jsx)("p",{className:"name arrangement-"+t.id,children:t.name}),Object(p.jsx)("p",{className:"info arrangement-"+t.id,children:Object(p.jsx)(G.a,{})})]},t.id));else 1===t.all_day&&!0===e.showAllDayEvents&&(c.format("DD-MM-YYYY")===s.format("DD-MM-YYYY")||s.format("DD-MM-YYYY")===a.format("DD-MM-YYYY")?r.push(Object(p.jsx)("div",{className:"arrangement arrangement-timeSpecific "+n+" arrangement-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:Object(p.jsx)("p",{className:"name arrangement-"+t.id,children:t.name})},t.id)):r.push(Object(p.jsxs)("div",{className:"arrangement arrangement-timeSpecific "+n+" arrangement-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(p.jsx)("p",{className:"name arrangement-"+t.id,children:t.name}),Object(p.jsx)("p",{className:"info arrangement-"+t.id,children:Object(p.jsx)(G.a,{})})]},t.id)))}else if("reminder"===t.type&&!0===e.showReminders){var j=R()(t.start);if(n=1===t.all_day?"calendar-color-"+n+" calendar-background-color-"+n:"calendar-color-"+n,!0===a.isBetween(j,j,"days","[]"))if(0===t.all_day&&!0===e.showTimeSpecificEvents){var u="00"===j.format("mm")?j.format("HH"):j.format("HH:mm");r.push(Object(p.jsxs)("div",{className:"reminder reminder-timeSpecific "+n+" reminder-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:[Object(p.jsxs)("p",{className:"name reminder-"+t.id,children:[Object(p.jsx)(J.a,{})," ",t.name]}),Object(p.jsx)("p",{className:"info reminder-"+t.id,children:u})]},t.id))}else 1===t.all_day&&!0===e.showAllDayEvents&&r.push(Object(p.jsx)("div",{className:"reminder reminder-timeSpecific "+n+" reminder-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:Object(p.jsxs)("p",{className:"name reminder-"+t.id,children:[Object(p.jsx)(J.a,{})," ",t.name]})},t.id))}else if("task"===t.type&&!0===e.showTasks){var h=R()(t.start),b="",m=Object(p.jsx)(I.a,{});1===t.is_done?(n="calendar-color-"+n,b="task-done",m=Object(p.jsx)(U.a,{})):n="calendar-color-"+n+" calendar-background-color-"+n,!0===a.isBetween(h,h,"days","[]")&&!0===e.showAllDayEvents&&r.push(Object(p.jsx)("div",{className:"task task-timeSpecific "+n+" task-"+t.id,onClick:function(t){e.setShowEventModal(t)},children:Object(p.jsxs)("p",{className:"name task-"+t.id+" "+b,children:[m," ",t.name]})},t.id))}}})),Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{className:n+" "+e.today+" day-"+a.format("DD-MM-YYYY"),children:[a.format("D")," ",""===e.today||t?"":" \u2014 Today"]}),Object(p.jsx)("div",{children:r})]})},Q=function(e){return!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded?Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(p.jsx)(p.Fragment,{children:e.week.map((function(t){var a=parseInt(e.index,10),n=e.firstDay,r=parseInt(e.firstDayDate,10),c=R()(n).add(t-r+7*a,"days"),s="";return c.format("DD MM YYYY")===R()().format("DD MM YYYY")&&(s="today"),Object(p.jsx)("div",{className:"day day-"+c.format("DD-MM-YYYY")+" "+s,onClick:function(t){e.setShowEventModal(t)},children:Object(p.jsx)(W,{day:t,dayDate:c,today:s,viewDate:e.viewDate,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,eventsLoaded:e.eventsLoaded,events:e.events,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,showArrangements:e.showArrangements,showReminders:e.showReminders,showTasks:e.showTasks},t)},t)}))})},Z=function(e){if(!1===e.userLoaded||!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var t=R()("01 "+R()(e.viewDate).format("MM")+R()(e.viewDate).format("YYYY"),"DD MM YYYY"),a=R()(t).format("d")-1;-1===a&&(a=6);for(var n=[],r=0;r<=5;r++){for(var c=[],s=0;s<=6;s++)c.push(s.toString());n.push(c)}var i=n.map((function(n,r){return Object(p.jsx)("div",{className:"week d-flex",style:{zIndex:r},children:Object(p.jsx)(Q,{className:"week d-flex",week:n,index:r,firstDay:t,firstDayDate:a,viewDate:e.viewDate,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,eventsLoaded:e.eventsLoaded,events:e.events,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,showArrangements:e.showArrangements,showReminders:e.showReminders,showTasks:e.showTasks},r)},r)}));return Object(p.jsxs)("div",{className:"viewMonth",children:[Object(p.jsxs)("div",{className:"daysOfWeek d-flex",children:[Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Mon"})}),Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Tue"})}),Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Wed"})}),Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Thu"})}),Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Fri"})}),Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Sat"})}),Object(p.jsx)("div",{className:"day",children:Object(p.jsx)("p",{children:"Sun"})})]}),i]})},K=function(e){if(!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});for(var t=R()(4*e.index+parseInt(e.month,10)+1+" "+R()(e.viewDate).format("YYYY"),"MM YYYY"),a=R()(t).endOf("month").format("D"),n=[],r=0;r<=5;r++){for(var c=[],s=0;s<=6;s++)c.push(s.toString());n.push(c)}var i=n.map((function(e,n){var r=e.map((function(e,r){var c=7*n+parseInt(e,10)+1-parseInt(t.format("d"),10)+1;return Object(p.jsx)("p",{className:"day text-center fw-light "+(parseInt(e,10)>=5?"text-muted":""),children:c>0&&c<=a?c:""})}));return Object(p.jsx)("div",{className:"week d-flex",children:r})}));return Object(p.jsxs)("div",{style:{zIndex:e.index+1},children:[Object(p.jsx)("p",{className:"text-center pb-2 name",onClick:function(){e.setView("month"),e.setViewDate(t)},children:t.format("MMMM")}),i]})},X=function(e){return!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded?Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(p.jsx)(p.Fragment,{children:e.row.map((function(t){return Object(p.jsx)("div",{className:"month",children:Object(p.jsx)(K,{className:"month",index:e.index,month:t,view:e.view,setView:e.setView,viewDate:e.viewDate,setViewDate:e.setViewDate})})}))})},$=function(e){if(!1===e.userLoaded||!1===e.userLoaded||!1===e.calendarsLoaded||!1===e.eventsLoaded)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});for(var t=[],a=0;a<3;a++){for(var n=[],r=0;r<4;r++)n.push(r.toString());t.push(n)}var c=t.map((function(t,a){return Object(p.jsx)("div",{className:"yearRow d-flex",children:Object(p.jsx)(X,{className:"yearRow d-flex",row:t,index:a,view:e.view,setView:e.setView,viewDate:e.viewDate,setViewDate:e.setViewDate},a)})}));return Object(p.jsx)("div",{className:"viewYear",children:c})},ee=function(e){return!1===e.userLoaded||!0!==e.calendarsLoaded?Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"agenda"===e.view||"month"===e.view?Object(p.jsx)(Z,{user:e.user,viewDate:e.viewDate,events:e.events,eventsLoaded:e.eventsLoaded,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,showArrangements:e.showArrangements,showReminders:e.showReminders,showTasks:e.showTasks}):"year"===e.view?Object(p.jsx)($,{user:e.user,events:e.events,eventsLoaded:e.eventsLoaded,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,showEventModal:e.showEventModal,setShowEventModal:e.setShowEventModal,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,showArrangements:e.showArrangements,showReminders:e.showReminders,showTasks:e.showTasks,view:e.view,setView:e.setView,viewDate:e.viewDate,setViewDate:e.setViewDate}):void 0},te=a(97),ae=a(91),ne=function(e){var t=function(){e.setShowEventModal(!1),e.setCalendarSelectedDate(R()(e.event.split("day-")[1].split(" ")[0],"DD-MM-YYYY"))};return Object(p.jsxs)(te.a,{show:!0,onHide:function(){return e.setShowEventModal(!1)},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{})}),Object(p.jsx)(te.a.Body,{children:Object(p.jsxs)(m.a,{className:"formCard",children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create event"}),Object(p.jsxs)(O.a,{variant:"primary",size:"lg",className:"w-100 mt-3",onClick:function(){e.setShowArrangementModal(!0),t()},children:[Object(p.jsx)(ae.a,{})," Arrangement"]}),Object(p.jsxs)(O.a,{variant:"outline-primary",size:"lg",className:"w-100 mt-3",onClick:function(){e.setShowReminderModal(!0),t()},children:[Object(p.jsx)(J.a,{})," Reminder"]}),Object(p.jsxs)(O.a,{variant:"outline-primary",size:"lg",className:"w-100 mt-3",onClick:function(){e.setShowTaskModal(!0),t()},children:[Object(p.jsx)(U.a,{})," Task"]}),Object(p.jsxs)(O.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowEventModal(!1)},children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})]})},re=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1===e.calendarSelectedDate?R()():e.calendarSelectedDate),u=Object(i.a)(j,1)[0],h=Object(n.useState)(u.format("YYYY-MM-DD")),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)((R()().add(1,"hours").format("HH")>=22||R()().format("DD")!==R()().add(1,"hours").format("DD"))&&!1!==u?u.add(1,"days").format("YYYY-MM-DD"):u.format("YYYY-MM-DD")),g=Object(i.a)(v,2),w=g[0],N=g[1],S=Object(n.useState)(!0),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(R()().add(1,"hours").format("HH")+":00"),T=Object(i.a)(k,2),L=T[0],M=T[1],Y=Object(n.useState)(R()().add(2,"hours").format("HH")+":00"),F=Object(i.a)(Y,2),V=F[0],P=F[1],_=Object(n.useState)(e.user.main_calendar),q=Object(i.a)(_,2),z=q[0],G=q[1],J=Object(n.useState)(""),I=Object(i.a)(J,2),U=I[0],W=I[1],Q=Object(n.useState)(""),Z=Object(i.a)(Q,2),K=Z[0],X=Z[1],$=Object(n.useState)(!1),ee=Object(i.a)($,2),ae=ee[0],ne=ee[1];Object(n.useEffect)((function(){re()}),[]);var re=function(){ne(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){X(e),ne(!0)})).catch((function(e){alert(e)}))};if(!1===ae)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var ce=K.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),se=Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return E(!1)},children:"Selected time"})]})});return!1===D&&(se=Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return E(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!1)},children:"Selected time"})]})}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return M(e.target.value)},defaultValue:L,required:!0}),Object(p.jsx)(m.a.Label,{children:"Start Time *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEndTime",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"bottom",placeholder:"End Time *",onChange:function(e){return P(e.target.value)},defaultValue:V,required:!0}),Object(p.jsx)(m.a.Label,{children:"End Time *"})]})]})),Object(p.jsxs)(te.a,{show:!0,onHide:function(){return e.setShowArrangementModal(!1)},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{children:"Create arrangement"})}),Object(p.jsx)(te.a.Body,{children:Object(p.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=D,n=z,c=x+" "+L+":00",s=w+" "+V+":00";if(!0===a){if(c=x+" 00:00:00",s=w+" 00:00:00",R()(w).isBefore(R()(x)))return void alert("Start date should be before end date.")}else if(R()(w+" "+V).isBefore(R()(x+" "+L)))return void alert("Start date should be before end date.");fetch("https://planse-api.vchkhr.com/api/arrangement/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:o,start:c,end:s,all_day:a,calendar_id:n,color:U})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.setShowArrangementModal(!1),e.updateEvents()})).catch((function(t){alert(t),e.setShowArrangementModal(!1)}))},children:[Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return d(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return f(e.target.value)},defaultValue:x,required:!0}),Object(p.jsx)(m.a.Label,{children:"Start Date *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEndDate",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"bottom",placeholder:"End Date *",onChange:function(e){return N(e.target.value)},defaultValue:w,required:!0}),Object(p.jsx)(m.a.Label,{children:"End Date *"})]}),se,Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return G(e.target.value)},defaultValue:e.user.main_calendar,children:ce}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return W(e.target.value)},defaultValue:"",children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(A.a,{})," Create arrangement"]}),Object(p.jsxs)(O.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowArrangementModal(!1)},children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})]})},ce=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1===e.calendarSelectedDate?R()():e.calendarSelectedDate),u=Object(i.a)(j,1)[0],h=Object(n.useState)(u.format("YYYY-MM-DD")),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(!0),g=Object(i.a)(v,2),w=g[0],N=g[1],S=Object(n.useState)(R()().add(1,"hours").format("HH")+":00"),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(e.user.main_calendar),T=Object(i.a)(k,2),L=T[0],M=T[1],Y=Object(n.useState)(""),F=Object(i.a)(Y,2),V=F[0],P=F[1],_=Object(n.useState)(""),q=Object(i.a)(_,2),z=q[0],G=q[1],J=Object(n.useState)(!1),I=Object(i.a)(J,2),U=I[0],W=I[1];Object(n.useEffect)((function(){Q()}),[]);var Q=function(){W(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){G(e),W(!0)})).catch((function(e){alert(e)}))};if(!1===U)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var Z=z.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),K=Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return N(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return N(!1)},children:"Selected time"})]})});return!1===w&&(K=Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return N(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return N(!1)},children:"Selected time"})]})}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return E(e.target.value)},defaultValue:D,required:!0}),Object(p.jsx)(m.a.Label,{children:"Time *"})]})]})),Object(p.jsxs)(te.a,{show:!0,onHide:function(){return e.setShowReminderModal(!1)},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{children:"Create reminder"})}),Object(p.jsx)(te.a.Body,{children:Object(p.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=w,n=L,c=x+" "+D+":00";!0===a&&(c=x+" 00:00:00"),fetch("https://planse-api.vchkhr.com/api/reminder/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:o,start:c,all_day:a,calendar_id:n,color:V})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.setShowReminderModal(!1),e.updateEvents()})).catch((function(t){alert(t),e.setShowReminderModal(!1)}))},children:[Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return d(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return f(e.target.value)},defaultValue:x,required:!0}),Object(p.jsx)(m.a.Label,{children:"Date *"})]}),K,Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return M(e.target.value)},defaultValue:e.user.main_calendar,children:Z}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return P(e.target.value)},defaultValue:"",children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(A.a,{})," Create reminder"]}),Object(p.jsxs)(O.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowReminderModal(!1)},children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})]})},se=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1===e.calendarSelectedDate?R()():e.calendarSelectedDate),u=Object(i.a)(j,1)[0],h=Object(n.useState)(u.format("YYYY-MM-DD")),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(!1),g=Object(i.a)(v,1)[0],w=Object(n.useState)(e.user.main_calendar),N=Object(i.a)(w,2),S=N[0],C=N[1],D=Object(n.useState)(""),E=Object(i.a)(D,2),k=E[0],T=E[1],L=Object(n.useState)(""),M=Object(i.a)(L,2),Y=M[0],F=M[1],V=Object(n.useState)(!1),P=Object(i.a)(V,2),H=P[0],_=P[1];Object(n.useEffect)((function(){q()}),[]);var q=function(){_(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){F(e),_(!0)})).catch((function(e){alert(e)}))};if(!1===H)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var z=Y.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)}));return Object(p.jsxs)(te.a,{show:!0,onHide:function(){return e.setShowTaskModal(!1)},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{children:"Create task"})}),Object(p.jsx)(te.a.Body,{children:Object(p.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=g,n=S,c=x+" 00:00:00";fetch("https://planse-api.vchkhr.com/api/task/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:o,start:c,is_done:a,calendar_id:n,color:k})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){e.setShowTaskModal(!1),e.updateEvents()})).catch((function(t){alert(t),e.setShowTaskModal(!1)}))},children:[Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return d(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return f(e.target.value)},defaultValue:x,required:!0}),Object(p.jsx)(m.a.Label,{children:"Date *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return C(e.target.value)},defaultValue:e.user.main_calendar,children:z}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return T(e.target.value)},defaultValue:"",children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(A.a,{})," Create task"]}),Object(p.jsxs)(O.a,{variant:"outline-secondary",className:"w-100 mt-3",onClick:function(){return e.setShowTaskModal(!1)},children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})]})},ie=a(92),le=a(93),oe=a(94),de=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),h=u[0],b=u[1],x=Object(n.useState)(""),f=Object(i.a)(x,2),v=f[0],g=f[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),S=N[0],C=N[1],D=Object(n.useState)(""),E=Object(i.a)(D,2),k=E[0],T=E[1],L=Object(n.useState)(""),M=Object(i.a)(L,2),Y=M[0],A=M[1],F=Object(n.useState)(""),V=Object(i.a)(F,2),P=V[0],_=V[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),z=q[0],G=q[1],J=Object(n.useState)(""),I=Object(i.a)(J,2),U=I[0],W=I[1],Q=Object(n.useState)(""),Z=Object(i.a)(Q,2),K=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(i.a)($,2),ae=ee[0],ne=ee[1],re=Object(n.useCallback)((function(){c(!1),fetch("https://planse-api.vchkhr.com/api/arrangement/"+e.arrangement,{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0),g(e.name),C(e.description),_(1===e.all_day),T(e.start.split(" ")[0]),G(e.start.split(" ")[1]),A(e.end.split(" ")[0]),W(e.end.split(" ")[1]),X(e.calendar_id),ne(e.color)})).catch((function(e){}))}),[e.arrangement]),ce=Object(n.useCallback)((function(){b(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){d(e),b(!0)})).catch((function(e){}))}),[]);Object(n.useEffect)((function(){e.setShowArrangementDetailsModal(!0),re(),ce()}),[e,re,ce]);var se=function(){e.setShowArrangementDetailsModal(!1),e.setShowEventModal(!1)},de=Object(p.jsx)("p",{children:"Loading..."}),je=Object(p.jsx)("div",{className:"text-center mt-5 mb-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),ue=Object(p.jsx)("span",{}),he=Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:!0===P?"w-100 active":"w-100",onClick:function(){return _(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:!1===P?"w-100 active":"w-100",onClick:function(){return _(!1)},children:"Selected time"})]})});return!1===P&&(he=Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:!0===P?"w-100 active":"w-100",onClick:function(){return _(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:!1===P?"w-100 active":"w-100",onClick:function(){return _(!1)},children:"Selected time"})]})}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return G(e.target.value)},defaultValue:z,required:!0}),Object(p.jsx)(m.a.Label,{children:"Start Time *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEndTime",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"bottom",placeholder:"End Time *",onChange:function(e){return W(e.target.value)},defaultValue:U,required:!0}),Object(p.jsx)(m.a.Label,{children:"End Time *"})]})]})),!0===r&&!0===h&&(ue=o.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),de=Object(p.jsx)("p",{children:v}),je=Object(p.jsx)("div",{children:Object(p.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=P,n=K,r=k+" "+z+":00",c=Y+" "+U+":00";if(!0===a){if(r=k+" 00:00:00",c=Y+" 00:00:00",R()(Y).isBefore(R()(k)))return void alert("Start date should be before end date.")}else if(R()(Y+" "+U).isBefore(R()(k+" "+z)))return void alert("Start date should be before end date.");fetch("https://planse-api.vchkhr.com/api/arrangement/edit/"+e.arrangement,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:v,description:S,start:r,end:c,all_day:a,calendar_id:n,color:ae})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){se(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return g(e.target.value)},defaultValue:v,required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return C(e.target.value)},defaultValue:S}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return T(e.target.value)},defaultValue:k,required:!0}),Object(p.jsx)(m.a.Label,{children:"Start Date *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEndDate",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"bottom",placeholder:"End Date *",onChange:function(e){return A(e.target.value)},defaultValue:Y,required:!0}),Object(p.jsx)(m.a.Label,{children:"End Date *"})]}),he,Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return X(e.target.value)},defaultValue:K,children:ue}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return ne(e.target.value)},defaultValue:ae,children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(p.jsxs)(O.a,{variant:"outline-danger",onClick:function(){fetch("https://planse-api.vchkhr.com/api/arrangement/delete/"+e.arrangement,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){se(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(p.jsx)(ie.a,{})," Delete"]}),Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsxs)(O.a,{variant:"outline-secondary",onClick:function(){return se()},children:[Object(p.jsx)(le.a,{})," Close"]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",children:[Object(p.jsx)(oe.a,{})," Save"]})]})]})]})})),Object(p.jsxs)(te.a,{show:e.showArrangementDetailsModal,onHide:function(){return se()},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{children:de})}),Object(p.jsx)(te.a.Body,{children:je})]})},je=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),h=u[0],b=u[1],x=Object(n.useState)(""),f=Object(i.a)(x,2),v=f[0],g=f[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),S=N[0],C=N[1],D=Object(n.useState)(""),E=Object(i.a)(D,2),k=E[0],T=E[1],L=Object(n.useState)(""),M=Object(i.a)(L,2),Y=M[0],A=M[1],F=Object(n.useState)(""),V=Object(i.a)(F,2),P=V[0],R=V[1],_=Object(n.useState)(""),B=Object(i.a)(_,2),q=B[0],z=B[1],G=Object(n.useState)(""),J=Object(i.a)(G,2),I=J[0],U=J[1],W=Object(n.useCallback)((function(){c(!1),fetch("https://planse-api.vchkhr.com/api/reminder/"+e.reminder,{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0),g(e.name),C(e.description),A(1===e.all_day),T(e.start.split(" ")[0]),R(e.start.split(" ")[1]),z(e.calendar_id),U(e.color)})).catch((function(e){}))}),[e.reminder]),Q=Object(n.useCallback)((function(){b(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){d(e),b(!0)})).catch((function(e){}))}),[]);Object(n.useEffect)((function(){e.setShowReminderDetailsModal(!0),W(),Q()}),[e,W,Q]);var Z=function(){e.setShowReminderDetailsModal(!1),e.setShowEventModal(!1)},K=Object(p.jsx)("p",{children:"Loading..."}),X=Object(p.jsx)("div",{className:"text-center mt-5 mb-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),$=Object(p.jsx)("span",{}),ee=Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:!0===Y?"w-100 active":"w-100",onClick:function(){return A(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:!1===Y?"w-100 active":"w-100",onClick:function(){return A(!1)},children:"Selected time"})]})});return!1===Y&&(ee=Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:!0===Y?"w-100 active":"w-100",onClick:function(){return A(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:!1===Y?"w-100 active":"w-100",onClick:function(){return A(!1)},children:"Selected time"})]})}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return R(e.target.value)},defaultValue:P,required:!0}),Object(p.jsx)(m.a.Label,{children:"Time *"})]})]})),!0===r&&!0===h&&($=o.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),K=Object(p.jsx)("p",{children:v}),X=Object(p.jsx)("div",{children:Object(p.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=Y,n=q,r=k+" "+P+":00";!0===a&&(r=k+" 00:00:00"),fetch("https://planse-api.vchkhr.com/api/reminder/edit/"+e.reminder,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:v,description:S,start:r,all_day:a,calendar_id:n,color:I})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){Z(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return g(e.target.value)},defaultValue:v,required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return C(e.target.value)},defaultValue:S}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return T(e.target.value)},defaultValue:k,required:!0}),Object(p.jsx)(m.a.Label,{children:"Date *"})]}),ee,Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return z(e.target.value)},defaultValue:q,children:$}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return U(e.target.value)},defaultValue:I,children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(p.jsxs)(O.a,{variant:"outline-danger",onClick:function(){fetch("https://planse-api.vchkhr.com/api/reminder/delete/"+e.reminder,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){Z(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(p.jsx)(ie.a,{})," Delete"]}),Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsxs)(O.a,{variant:"outline-secondary",onClick:function(){return Z()},children:[Object(p.jsx)(le.a,{})," Close"]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",children:[Object(p.jsx)(oe.a,{})," Save"]})]})]})]})})),Object(p.jsxs)(te.a,{show:e.showReminderDetailsModal,onHide:function(){return Z()},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{children:K})}),Object(p.jsx)(te.a.Body,{children:X})]})},ue=a(95),he=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),h=u[0],b=u[1],x=Object(n.useState)(""),f=Object(i.a)(x,2),v=f[0],g=f[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),S=N[0],C=N[1],E=Object(n.useState)(""),k=Object(i.a)(E,2),T=k[0],L=k[1],M=Object(n.useState)(""),Y=Object(i.a)(M,2),A=Y[0],F=Y[1],V=Object(n.useState)(""),P=Object(i.a)(V,2),R=P[0],H=P[1],_=Object(n.useState)(""),B=Object(i.a)(_,2),q=B[0],z=B[1],G=Object(n.useCallback)((function(){c(!1),fetch("https://planse-api.vchkhr.com/api/task/"+e.task,{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0),g(e.name),C(e.description),F(1===e.is_done),L(e.start.split(" ")[0]),H(e.calendar_id),z(e.color)})).catch((function(e){}))}),[e.task]),J=Object(n.useCallback)((function(){b(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){d(e),b(!0)})).catch((function(e){}))}),[]);Object(n.useEffect)((function(){e.setShowTaskDetailsModal(!0),G(),J()}),[e,G,J]);var I=function(){e.setShowTaskDetailsModal(!1),e.setShowEventModal(!1)},U=Object(p.jsx)("p",{children:"Loading..."}),W=Object(p.jsx)("div",{className:"text-center mt-5 mb-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),Q=Object(p.jsx)("span",{});if(!0===r&&!0===h){Q=o.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),U=Object(p.jsxs)("p",{children:[Object(p.jsx)(D.a,{})," ",v]});var Z=Object(p.jsxs)(O.a,{variant:"success",onClick:function(){return F(!A)},type:"submit",children:[Object(p.jsx)(ue.a,{})," Done"]});!0===A&&(U=Object(p.jsxs)("p",{children:[Object(p.jsx)(ue.a,{})," ",Object(p.jsx)("del",{children:v})]}),Z=Object(p.jsxs)(O.a,{variant:"warning",onClick:function(){return F(!A)},type:"submit",children:[Object(p.jsx)(D.a,{})," Undone"]})),W=Object(p.jsx)("div",{children:Object(p.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var a=A,n=R,r=T+" 00:00:00";fetch("https://planse-api.vchkhr.com/api/task/edit/"+e.task,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:v,description:S,start:r,is_done:a,calendar_id:n,color:q})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){I(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return g(e.target.value)},defaultValue:v,required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return C(e.target.value)},defaultValue:S}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return L(e.target.value)},defaultValue:T,required:!0}),Object(p.jsx)(m.a.Label,{children:"Date *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return H(e.target.value)},defaultValue:R,children:Q}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return z(e.target.value)},defaultValue:q,children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(p.jsxs)(O.a,{variant:"outline-danger",onClick:function(){fetch("https://planse-api.vchkhr.com/api/task/delete/"+e.task,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){I(),e.updateEvents()})).catch((function(e){alert(e)}))},children:[Object(p.jsx)(ie.a,{})," Delete"]}),Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsxs)(O.a,{variant:"outline-secondary",onClick:function(){return I()},children:[Object(p.jsx)(le.a,{})," Close"]}),Object(p.jsxs)(O.a,{variant:"outline-primary",type:"submit",children:[Object(p.jsx)(oe.a,{})," Save"]}),Z]})]})]})})}return Object(p.jsxs)(te.a,{show:e.showTaskDetailsModal,onHide:function(){return I()},children:[Object(p.jsx)(te.a.Header,{closeButton:!0,children:Object(p.jsx)(te.a.Title,{children:U})}),Object(p.jsx)(te.a.Body,{children:W})]})},be=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,1)[0],r=Object(n.useState)("month"),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(n.useState)(R()()),j=Object(i.a)(d,2),u=j[0],h=j[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),O=m[0],x=m[1],f=Object(n.useState)(!1),v=Object(i.a)(f,2),g=v[0],w=v[1],N=Object(n.useState)(!1),S=Object(i.a)(N,2),C=S[0],D=S[1],E=Object(n.useState)(!1),k=Object(i.a)(E,2),T=k[0],M=k[1],Y=Object(n.useState)(!1),A=Object(i.a)(Y,2),F=A[0],V=A[1],P=Object(n.useState)(!1),H=Object(i.a)(P,2),_=H[0],B=H[1],q=Object(n.useState)(!1),G=Object(i.a)(q,2),J=G[0],I=G[1],U=Object(n.useState)(!1),W=Object(i.a)(U,2),Q=W[0],Z=W[1],K=Object(p.jsx)("div",{}),X=Object(p.jsx)("div",{}),$=Object(p.jsx)("div",{}),te=Object(p.jsx)("div",{});if(g.target){var ae=g.target.classList.value;if(ae.indexOf("day-")>0)K=Object(p.jsx)(ne,{setShowEventModal:w,setShowArrangementModal:D,setShowReminderModal:M,setShowTaskModal:V,event:ae,setCalendarSelectedDate:x});else if(ae.indexOf("arrangement-")>0){var ie=ae.split("arrangement-")[1].split(" ")[0];"timeSpecific"!==ie&&"allDay"!==ie&&(X=Object(p.jsx)(de,{user:e.user,setShowEventModal:w,showArrangementDetailsModal:_,setShowArrangementDetailsModal:B,updateEvents:e.updateEvents,arrangement:ie}))}else if(ae.indexOf("reminder-")>0){var le=ae.split("reminder-")[1].split(" ")[0];"timeSpecific"!==le&&"allDay"!==le&&($=Object(p.jsx)(je,{user:e.user,setShowEventModal:w,showReminderDetailsModal:J,setShowReminderDetailsModal:I,updateEvents:e.updateEvents,reminder:le}))}else if(ae.indexOf("task-")>0){var oe=ae.split("task-")[1].split(" ")[0];"timeSpecific"!==oe&&"allDay"!==oe&&(te=Object(p.jsx)(he,{user:e.user,setShowEventModal:w,showTaskDetailsModal:Q,setShowTaskDetailsModal:Z,updateEvents:e.updateEvents,task:oe}))}}var ue=Object(p.jsx)("div",{});!0===C&&(ue=Object(p.jsx)(re,{showArrangementModal:C,setShowArrangementModal:D,user:e.user,userLoaded:e.userLoaded,calendarSelectedDate:O,updateEvents:e.updateEvents}));var be=Object(p.jsx)("div",{});!0===T&&(be=Object(p.jsx)(ce,{showReminderModal:T,setShowReminderModal:M,user:e.user,userLoaded:e.userLoaded,calendarSelectedDate:O,updateEvents:e.updateEvents}));var me=Object(p.jsx)("div",{});return!0===F&&(me=Object(p.jsx)(se,{showTaskModal:F,setShowTaskModal:V,user:e.user,userLoaded:e.userLoaded,calendarSelectedDate:O,updateEvents:e.updateEvents})),a?Object(p.jsx)(o.a,{to:"/login"}):!1===e.userLoaded?Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===e.user.length?Object(p.jsx)(L,{}):Object(p.jsxs)("div",{className:"calendar",children:[K,ue,be,me,X,$,te,Object(p.jsx)(z,{user:e.user,userLoaded:e.userLoaded,view:s,setView:l,viewDate:u,setViewDate:h}),Object(p.jsx)(ee,{user:e.user,userLoaded:e.userLoaded,view:s,setView:l,viewDate:u,setViewDate:h,calendars:e.calendars,calendarsLoaded:e.calendarsLoaded,showEventModal:g,setShowEventModal:w,events:e.events,eventsLoaded:e.eventsLoaded,showAllDayEvents:e.showAllDayEvents,showTimeSpecificEvents:e.showTimeSpecificEvents,showArrangements:e.showArrangements,showReminders:e.showReminders,showTasks:e.showTasks})]})},me=function(){return Object(p.jsxs)("div",{className:"px-4 py-5 my-5 text-center",children:[Object(p.jsx)("img",{className:"mx-auto mb-4",src:"logo.png",alt:"Desktop Computer",width:"72",height:"72"}),Object(p.jsx)("img",{className:"mx-auto mb-4",src:"img/desktop-computer.png",alt:"Desktop Computer",width:"72",height:"72"}),Object(p.jsx)("h1",{className:"display-6 fw-bold",children:"PLANSE Can't Work On This Screen"}),Object(p.jsx)("p",{className:"lead mb-4",children:"Please resize the window to make it wider. If the window is full screen, use another larger screen device such as a desktop computer."})]})},Oe=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,1)[0],r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),u=j[0],h=j[1],b=Object(n.useState)([]),m=Object(i.a)(b,2),O=m[0],x=m[1],f=Object(n.useState)(!1),v=Object(i.a)(f,2),g=v[0],w=v[1],S=Object(n.useState)(!0),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(!0),T=Object(i.a)(k,2),M=T[0],Y=T[1],A=Object(n.useState)(!0),F=Object(i.a)(A,2),P=F[0],R=F[1],H=Object(n.useState)(!0),_=Object(i.a)(H,2),B=_[0],q=_[1],z=Object(n.useState)(!0),G=Object(i.a)(z,2),J=G[0],I=G[1],U=Object(N.useMediaQuery)({query:"(max-width: 850px)"});Object(n.useEffect)((function(){W(),Q()}),[]);var W=function(){h(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){l(e),h(!0)})).catch((function(e){}))},Q=function(){w(!1),fetch("https://planse-api.vchkhr.com/api/events",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){x(e),w(!0)})).catch((function(e){}))};return a?Object(p.jsx)(o.a,{to:"/login"}):!0===U?Object(p.jsx)(me,{}):!1===e.userLoaded?Object(p.jsxs)("div",{className:"text-center mt-5",children:[Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(p.jsx)("p",{className:"text-muted",children:"First loading may take a while..."})]}):0===e.user.length?Object(p.jsx)(L,{}):Object(p.jsxs)("div",{children:[Object(p.jsx)(V,{user:e.user,setUser:e.setUser,calendars:s,calendarsLoaded:u,updateEvents:Q,showAllDayEvents:D,setShowAllDayEvents:E,showTimeSpecificEvents:M,setShowTimeSpecificEvents:Y,showArrangements:P,showReminders:B,showTasks:J,setShowArrangements:R,setShowReminders:q,setShowTasks:I}),Object(p.jsx)(be,{user:e.user,setUser:e.setUser,calendars:s,calendarsLoaded:u,showAllDayEvents:D,showTimeSpecificEvents:M,updateEvents:Q,events:O,eventsLoaded:g,showArrangements:P,showReminders:B,showTasks:J})]})},xe=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],h=Object(n.useState)(0),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(!1),g=Object(i.a)(v,2),w=g[0],N=g[1];return w?Object(p.jsx)(o.a,{to:"/"}):Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault(),fetch("https://planse-api.vchkhr.com/api/calendar/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,color:x})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){N(!0)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create calendar"}),Object(p.jsxs)(m.a.Floating,{controlid:"formName",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Home",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"middle",placeholder:"Calendar for home events",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return f(e.target.value)},defaultValue:"0",children:[Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(Y.a,{})," Create calendar"]}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})},pe=Object(o.h)((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],h=Object(n.useState)(),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(!1),g=Object(i.a)(v,2),w=g[0],N=g[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(!1),T=Object(i.a)(k,2),L=T[0],M=T[1],Y=Object(o.f)();Object(n.useEffect)((function(){A()}),[]);if(w)return Object(p.jsx)(o.a,{to:"/"});var A=function(){M(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){E(e),M(!0)})).catch((function(e){alert(e)}))};if(!1===L)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var F=D.filter((function(t){return parseInt(t.id,10)===parseInt(e.match.params.id,10)}))[0],V=Object(p.jsxs)("div",{className:"mt-3",children:[Object(p.jsx)(l.b,{to:{pathname:"/calendar/editMain/"+e.match.params.id,state:{mainName:F.name}},className:"w-100 btn btn-lg btn-warning",children:"Make the main calendar"}),Object(p.jsx)(O.a,{variant:"danger",size:"lg",className:"w-100 mt-3",onClick:function(){return Y.push("/calendar/delete/"+e.match.params.id)},children:"Delete calendar"})]});return F.id===e.user.main_calendar&&(V=Object(p.jsx)("div",{className:"mt-3",children:Object(p.jsx)("p",{className:"text-center",children:"You can't delete your main calendar"})})),Object(p.jsx)("div",{children:Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(t){t.preventDefault(),fetch("https://planse-api.vchkhr.com/api/calendar/edit/"+e.match.params.id,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,color:x})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){N(!0)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsxs)("h1",{className:"h3 mb-3 fw-normal text-center",children:["Edit ",Object(p.jsx)("code",{children:F.name})," calendar"]}),Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Home",onChange:function(e){return c(e.target.value)},defaultValue:F.name,required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"middle",placeholder:"Calendar for home events",defaultValue:F.description,onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return f(e.target.value)},defaultValue:F.color,children:[Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",size:"lg",className:"w-100 mt-3",type:"submit",children:[Object(p.jsx)(oe.a,{})," Save changes"]}),Object(p.jsx)("hr",{className:"mt-3"}),V,Object(p.jsx)("hr",{className:"mt-3"}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})})),fe=Object(o.h)((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(parseInt(e.match.params.id,10)),d=Object(i.a)(s,1)[0],j=Object(n.useState)(""),u=Object(i.a)(j,2),h=u[0],b=u[1],x=Object(n.useState)(!1),f=Object(i.a)(x,2),v=f[0],g=f[1];Object(n.useEffect)((function(){w()}),[]);if(r)return Object(p.jsx)(o.a,{to:"/"});var w=function(){g(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){b(e),g(!0)})).catch((function(e){alert(e)}))};if(!1===v)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var N=h.filter((function(e){return parseInt(e.id,10)===d}))[0];return Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(t){t.preventDefault(),fetch("https://planse-api.vchkhr.com/api/calendar/editMain/"+d,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(t){c(!0),e.setUser(t)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Update main calendar"}),Object(p.jsxs)("p",{className:"text-center",children:["You are going to change your main calendar to the ",Object(p.jsx)("code",{children:N.name})," calendar."]}),Object(p.jsxs)(O.a,{variant:"primary",size:"lg",className:"w-100 mt-3",type:"submit",children:[Object(p.jsx)(oe.a,{})," Update main calendar"]}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})),ve=a(98),ge=a(96),we=Object(o.h)((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(parseInt(e.match.params.id,10)),d=Object(i.a)(s,1)[0],j=Object(n.useState)(""),u=Object(i.a)(j,2),h=u[0],b=u[1],x=Object(n.useState)(!1),f=Object(i.a)(x,2),v=f[0],g=f[1];Object(n.useEffect)((function(){w()}),[]);if(r)return Object(p.jsx)(o.a,{to:"/"});var w=function(){g(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){b(e),g(!0)})).catch((function(e){alert(e),g(!1)}))};if(!0!==v)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var N=h.filter((function(e){return parseInt(e.id,10)===d}))[0],S=Object(p.jsxs)("div",{children:[Object(p.jsx)(ve.a,{variant:"danger",className:"text-center mt-3",children:"This action is irreversible"},N.id),Object(p.jsxs)(O.a,{variant:"danger",size:"lg",className:"w-100 mt-3",type:"submit",children:[Object(p.jsx)(ge.a,{})," Delete calendar"]})]});return e.user.main_calendar===N.id&&(S=Object(p.jsx)(ve.a,{variant:"warning",className:"text-center",children:"You can't delete your main calendar"},N.id)),Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault(),fetch("https://planse-api.vchkhr.com/api/calendar/delete/"+d,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){c(!0)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsxs)("h1",{className:"h3 mb-3 fw-normal text-center",children:["Delete ",Object(p.jsx)("code",{children:N.name})," calendar"]}),Object(p.jsxs)("p",{className:"text-center",children:["You are going to delete this calendar.",Object(p.jsx)("br",{}),"All events in this calendar, as well as access settings will be deleted"]}),S,Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})})),Ne=function(e){return Object(p.jsxs)(m.a,{className:"formCard",children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create event"}),Object(p.jsxs)(l.b,{to:"/arrangement/create",className:"w-100 btn btn-lg btn-primary mt-3",children:[Object(p.jsx)(ae.a,{})," Arrangement"]}),Object(p.jsxs)(l.b,{to:"/reminder/create",className:"w-100 btn btn-lg btn-outline-primary mt-3",children:[Object(p.jsx)(J.a,{})," Reminder"]}),Object(p.jsxs)(l.b,{to:"/task/create",className:"w-100 btn btn-lg btn-outline-primary mt-3",children:[Object(p.jsx)(U.a,{})," Task"]}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})},ye=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],h=Object(n.useState)(R()().format("YYYY-MM-DD")),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(R()().format("YYYY-MM-DD")),g=Object(i.a)(v,2),w=g[0],N=g[1],S=Object(n.useState)(!0),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(R()().add(1,"hours").format("HH")+":00"),T=Object(i.a)(k,2),L=T[0],M=T[1],Y=Object(n.useState)(R()().add(2,"hours").format("HH")+":00"),F=Object(i.a)(Y,2),V=F[0],P=F[1],_=Object(n.useState)(e.user.main_calendar),q=Object(i.a)(_,2),z=q[0],G=q[1],J=Object(n.useState)(""),I=Object(i.a)(J,2),U=I[0],W=I[1],Q=Object(n.useState)(!1),Z=Object(i.a)(Q,2),K=Z[0],X=Z[1],$=Object(n.useState)(""),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(i.a)(ne,2),ce=re[0],se=re[1];Object(n.useEffect)((function(){ie(),(R()().add(1,"hours").format("HH")>=22||R()().format("DD")!==R()().add(1,"hours").format("DD"))&&N(R()().add(1,"days").format("YYYY-MM-DD"))}),[]);if(K)return Object(p.jsx)(o.a,{to:"/"});var ie=function(){se(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){ae(e),se(!0)})).catch((function(e){alert(e)}))};if(!1===ce)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var le=te.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),oe=Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return E(!1)},children:"Selected time"})]})});return!1===D&&(oe=Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return E(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return E(!1)},children:"Selected time"})]})}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return M(e.target.value)},defaultValue:L,required:!0}),Object(p.jsx)(m.a.Label,{children:"Start Time *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEndTime",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"bottom",placeholder:"End Time *",onChange:function(e){return P(e.target.value)},defaultValue:V,required:!0}),Object(p.jsx)(m.a.Label,{children:"End Time *"})]})]})),Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault();var t=D,a=z,n=x+" "+L+":00",c=w+" "+V+":00";if(!0===t){if(n=x+" 00:00:00",c=w+" 00:00:00",R()(w).isBefore(R()(x)))return void alert("Start date should be before end date.")}else if(R()(w+" "+V).isBefore(R()(x+" "+L)))return void alert("Start date should be before end date.");fetch("https://planse-api.vchkhr.com/api/arrangement/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,start:n,end:c,all_day:t,calendar_id:a,color:U})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){X(!0)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create arrangement"}),Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return f(e.target.value)},defaultValue:x,required:!0}),Object(p.jsx)(m.a.Label,{children:"Start Date *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formEndDate",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"bottom",placeholder:"End Date *",onChange:function(e){return N(e.target.value)},defaultValue:w,required:!0}),Object(p.jsx)(m.a.Label,{children:"End Date *"})]}),oe,Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return G(e.target.value)},defaultValue:e.user.main_calendar,children:le}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return W(e.target.value)},defaultValue:"",children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(A.a,{})," Create arrangement"]}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})},Se=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],h=Object(n.useState)(R()().format("YYYY-MM-DD")),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(!1),g=Object(i.a)(v,2),w=g[0],N=g[1],S=Object(n.useState)(R()().add(1,"hours").format("HH")+":00"),C=Object(i.a)(S,2),D=C[0],E=C[1],k=Object(n.useState)(e.user.main_calendar),T=Object(i.a)(k,2),L=T[0],M=T[1],Y=Object(n.useState)(""),F=Object(i.a)(Y,2),V=F[0],P=F[1],_=Object(n.useState)(!1),q=Object(i.a)(_,2),z=q[0],G=q[1],J=Object(n.useState)(""),I=Object(i.a)(J,2),U=I[0],W=I[1],Q=Object(n.useState)(!1),Z=Object(i.a)(Q,2),K=Z[0],X=Z[1];Object(n.useEffect)((function(){$()}),[]);if(z)return Object(p.jsx)(o.a,{to:"/"});var $=function(){X(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){W(e),X(!0)})).catch((function(e){alert(e)}))};if(!1===K)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var ee=U.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)})),te=Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return N(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return N(!1)},children:"Selected time"})]})});return!1===w&&(te=Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a.Floating,{controlid:"formAllDay",className:"mt-3",children:Object(p.jsxs)(H.a,{"aria-label":"All Day",className:"d-flex",children:[Object(p.jsx)(O.a,{variant:"primary",className:"w-100",onClick:function(){return N(!0)},children:"All day"}),Object(p.jsx)(O.a,{variant:"primary",className:"w-100 active",onClick:function(){return N(!1)},children:"Selected time"})]})}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartTime",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"time",className:"top",placeholder:"Start Time *",onChange:function(e){return E(e.target.value)},defaultValue:D,required:!0}),Object(p.jsx)(m.a.Label,{children:"Time *"})]})]})),Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault();var t=w,a=L,n=x+" "+D+":00";!0===t&&(n=x+" 00:00:00"),fetch("https://planse-api.vchkhr.com/api/reminder/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,start:n,all_day:t,calendar_id:a,color:V})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){G(!0)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create reminder"}),Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return f(e.target.value)},defaultValue:x,required:!0}),Object(p.jsx)(m.a.Label,{children:"Date *"})]}),te,Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return M(e.target.value)},defaultValue:e.user.main_calendar,children:ee}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return P(e.target.value)},defaultValue:"",children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(A.a,{})," Create reminder"]}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})},Ce=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),j=d[0],u=d[1],h=Object(n.useState)(R()().format("YYYY-MM-DD")),b=Object(i.a)(h,2),x=b[0],f=b[1],v=Object(n.useState)(!1),g=Object(i.a)(v,1)[0],w=Object(n.useState)(e.user.main_calendar),N=Object(i.a)(w,2),S=N[0],C=N[1],D=Object(n.useState)(""),E=Object(i.a)(D,2),k=E[0],T=E[1],L=Object(n.useState)(!1),M=Object(i.a)(L,2),Y=M[0],F=M[1],V=Object(n.useState)(""),P=Object(i.a)(V,2),H=P[0],_=P[1],q=Object(n.useState)(!1),z=Object(i.a)(q,2),G=z[0],J=z[1];Object(n.useEffect)((function(){I()}),[]);if(Y)return Object(p.jsx)(o.a,{to:"/"});var I=function(){J(!1),fetch("https://planse-api.vchkhr.com/api/calendar/index",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){_(e),J(!0)})).catch((function(e){alert(e)}))};if(!1===G)return Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(y.a,{animation:"grow",variant:"primary",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});var U=H.map((function(t){return Object(p.jsxs)("option",{value:t.id,children:[t.name," ",t.id===e.user.main_calendar?"(Main)":""]},t.id)}));return Object(p.jsxs)(m.a,{className:"formCard",onSubmit:function(e){e.preventDefault();var t=g,a=S,n=x+" 00:00:00";fetch("https://planse-api.vchkhr.com/api/task/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r,description:j,start:n,is_done:t,calendar_id:a,color:k})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){F(!0)})).catch((function(e){alert(e)}))},children:[Object(p.jsx)("p",{className:"text-center",children:Object(p.jsx)("img",{className:"mb-4",src:"/logo.png",alt:"PLANSE"})}),Object(p.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Create task"}),Object(p.jsxs)(m.a.Floating,{controlid:"formName",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"top",placeholder:"Name",onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(m.a.Label,{children:"Name *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formDescription",children:[Object(p.jsx)(m.a.Control,{type:"text",className:"bottom",placeholder:"Description",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(m.a.Label,{children:"Description"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formStartDate",className:"mt-3",children:[Object(p.jsx)(m.a.Control,{type:"date",className:"top",placeholder:"Start Date *",onChange:function(e){return f(e.target.value)},defaultValue:x,required:!0}),Object(p.jsx)(m.a.Label,{children:"Date *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formCalendar",className:"mt-3",children:[Object(p.jsx)(m.a.Select,{className:"top","aria-label":"Calendar *",onChange:function(e){return C(e.target.value)},defaultValue:e.user.main_calendar,children:U}),Object(p.jsx)(m.a.Label,{children:"Calendar *"})]}),Object(p.jsxs)(m.a.Floating,{controlid:"formColor",children:[Object(p.jsxs)(m.a.Select,{className:"bottom","aria-label":"Color *",onChange:function(e){return T(e.target.value)},defaultValue:"",children:[Object(p.jsx)("option",{value:"0",children:"Color of calendar"}),Object(p.jsx)("option",{value:"1",children:"\ud83c\udf3a Red"}),Object(p.jsx)("option",{value:"2",children:"\ud83c\udfc0 Orange"}),Object(p.jsx)("option",{value:"3",children:"\u2600\ufe0f Yellow"}),Object(p.jsx)("option",{value:"4",children:"\ud83e\udd66 Green"}),Object(p.jsx)("option",{value:"5",children:"\ud83d\udc0b Blue"}),Object(p.jsx)("option",{value:"6",children:"\ud83d\udc7e Purple"})]}),Object(p.jsx)(m.a.Label,{children:"Color *"})]}),Object(p.jsxs)(O.a,{variant:"primary",type:"submit",size:"lg",className:"w-100 mt-3",children:[Object(p.jsx)(A.a,{})," Create task"]}),Object(p.jsxs)(l.b,{to:"/",className:"btn btn-outline-secondary w-100 mt-3",children:[Object(p.jsx)(B.a,{}),"Go back to Calendar"]})]})};var De=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),d=s[0],j=s[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){j(!1),fetch("https://planse-api.vchkhr.com/api/user",{headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){r(e),j(!0)})).catch((function(e){j(!0)}))};return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(o.b,{path:"/",exact:!0,component:function(){return Object(p.jsx)(Oe,{user:a,userLoaded:d})}}),Object(p.jsx)(o.b,{path:"/login",component:function(){return Object(p.jsx)(f,{setUser:r})}}),Object(p.jsx)(o.b,{path:"/register",component:function(){return Object(p.jsx)(g,{setUser:r})}}),Object(p.jsx)(o.b,{path:"/logout",component:function(){return Object(p.jsx)(w,{user:a,setUser:r})}}),Object(p.jsx)(o.b,{path:"/calendar/create",component:function(){return Object(p.jsx)(xe,{user:a})}}),Object(p.jsx)(o.b,{path:"/calendar/edit/:id",component:function(){return Object(p.jsx)(pe,{user:a})}}),Object(p.jsx)(o.b,{path:"/calendar/editMain/:id",component:function(){return Object(p.jsx)(fe,{user:a,setUser:r})}}),Object(p.jsx)(o.b,{path:"/calendar/delete/:id",component:function(){return Object(p.jsx)(we,{user:a})}}),Object(p.jsx)(o.b,{path:"/event/create",component:function(){return Object(p.jsx)(Ne,{user:a})}}),Object(p.jsx)(o.b,{path:"/arrangement/create",component:function(){return Object(p.jsx)(ye,{user:a})}}),Object(p.jsx)(o.b,{path:"/reminder/create",component:function(){return Object(p.jsx)(Se,{user:a})}}),Object(p.jsx)(o.b,{path:"/task/create",component:function(){return Object(p.jsx)(Ce,{user:a})}})]})})},Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,101)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(68);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(De,{})}),document.getElementById("root")),Ee()}},[[69,1,2]]]);
//# sourceMappingURL=main.276adc78.chunk.js.map